Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.shroomies\">\n\n    <!--\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\n         Google Maps Android API v2, but you must specify either coarse or fine\n         location permissions for the \"MyLocation\" functionality.\n    -->\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" />\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" />\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/>\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\">\n\n        <!--\n             The API key for Google Maps-based APIs is defined as a string resource.\n             (See the file \"res/values/google_maps_api.xml\").\n             Note that the API key is linked to the encryption key used to sign the APK.\n             You need a different API key for each encryption key, including the release key that is used to\n             sign the APK for publishing.\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\n        -->\n        <meta-data\n            android:name=\"com.google.android.geo.API_KEY\"\n            android:value=\"@string/google_maps_api_key\" />\n\n        <activity android:name=\".ResetPassword\" />\n        <activity android:name=\".MainActivity\" />\n        <activity android:name=\".SignUpActivity\" />\n        <activity android:name=\".LoginActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n\n        <meta-data\n            android:name=\"com.google.android.gms.version\"\n            android:value=\"@integer/google_play_services_version\" />\n    </application>\n\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/src/main/AndroidManifest.xml	(date 1607453683000)
@@ -14,6 +14,7 @@
     <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
 
     <application
+        android:name=".Home"
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
         android:label="@string/app_name"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15__Default_Changelist_.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15__Default_Changelist_.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]" date="1606754779219" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 30-Nov-20 22:15 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01_[Default_Changelist]/shelved.patch	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01_[Default_Changelist]/shelved.patch	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
@@ -1,25 +0,0 @@
-Index: app/src/main/res/layout/activity_sign_up.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@drawable/gradient_yellow_background\"\r\n    tools:context=\".SignUpActivity\">\r\n\r\n<TextView\r\n    android:id=\"@+id/become\"\r\n    android:layout_width=\"wrap_content\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:text=\"Become a\"\r\n    android:textSize=\"30dp\"\r\n    android:layout_marginLeft=\"30dp\"\r\n    android:layout_marginTop=\"30dp\"\r\n    android:textStyle=\"bold\"\r\n    android:textColor=\"@android:color/black\"/>\r\n    <ImageView\r\n        android:id=\"@+id/shroomie\"\r\n        android:layout_width=\"180dp\"\r\n        android:layout_height=\"60dp\"\r\n        android:layout_below=\"@id/become\"\r\n        android:layout_marginLeft=\"30dp\"\r\n        android:src=\"@drawable/mashroom_text_black_white\"\r\n        />\r\n    <TextView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"today\"\r\n        android:layout_below=\"@id/become\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:textSize=\"30dp\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_alignParentLeft=\"true\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:layout_marginLeft=\"190dp\"/>\r\n    <TextView\r\n        android:id=\"@+id/text_signup\"\r\n        android:layout_width=\"300dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginLeft=\"30dp\"\r\n        android:layout_below=\"@id/shroomie\"\r\n        android:layout_marginTop=\"50dp\"\r\n        android:paddingLeft=\"30dp\"\r\n        android:text=\"Sign Up\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textSize=\"30sp\"\r\n        android:textStyle=\"bold\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/fullname\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/text_signup\"\r\n        android:elevation=\"10dp\"\r\n        android:padding=\"10dp\"\r\n        android:layout_marginLeft=\"50dp\"\r\n        android:layout_marginTop=\"51dp\"\r\n        android:background=\"@drawable/textbox_round\"\r\n        android:drawableStart=\"@drawable/ic_name_edit_text\"\r\n        android:hint=\"   Full Name\"\r\n        android:inputType=\"textPersonName\"\r\n        android:paddingLeft=\"24dp\"\r\n\r\n\r\n        />\r\n\r\n    <EditText\r\n        android:id=\"@+id/emailid\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/fullname\"\r\n        android:layout_centerInParent=\"true\"\r\n        android:layout_marginLeft=\"50dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:elevation=\"10dp\"\r\n        android:padding=\"10dp\"\r\n        android:background=\"@drawable/textbox_round\"\r\n        android:drawableStart=\"@drawable/ic_email_edit_text\"\r\n        android:hint=\"   Email\"\r\n        android:inputType=\"textEmailAddress\"\r\n        android:paddingLeft=\"20dp\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/password\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/emailid\"\r\n        android:layout_centerInParent=\"true\"\r\n        android:layout_marginLeft=\"50dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:background=\"@drawable/textbox_round\"\r\n        android:drawableStart=\"@drawable/ic_password_edit_text\"\r\n        android:hint=\"   Password\"\r\n        android:elevation=\"10dp\"\r\n        android:padding=\"10dp\"\r\n        android:inputType=\"textPassword\"\r\n        android:paddingLeft=\"20dp\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/confirmpw\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/password\"\r\n        android:layout_centerInParent=\"true\"\r\n        android:layout_marginLeft=\"50dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:background=\"@drawable/textbox_round\"\r\n        android:drawableStart=\"@drawable/ic_password_edit_text\"\r\n        android:hint=\"   Confirm Password\"\r\n        android:inputType=\"textPassword\"\r\n        android:elevation=\"10dp\"\r\n        android:padding=\"10dp\"\r\n        android:paddingLeft=\"20dp\" />\r\n\r\n    <Switch\r\n        android:id=\"@+id/enable_bio_signup\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/confirmpw\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:showText=\"false\"\r\n        android:text=\"Enable login biometric\"\r\n        android:textAlignment=\"center\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/registerbt\"\r\n        style=\"@style/TextAppearance.AppCompat.Widget.Button.Colored\"\r\n        android:layout_width=\"155dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/confirmpw\"\r\n        android:layout_centerInParent=\"true\"\r\n        android:layout_marginTop=\"60dp\"\r\n        android:background=\"@drawable/button_round\"\r\n        android:drawableRight=\"@drawable/ic_arrow_register\"\r\n        android:text=\"Register\"\r\n        android:elevation=\"10dp\"\r\n        android:padding=\"10dp\"\r\n        android:shadowColor=\"@android:color/black\"\r\n        android:textColor=\"@android:color/black\" />\r\n\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_sign_up.xml	(revision bedefe06311f141dc877b374c66476b9351485e0)
-+++ app/src/main/res/layout/activity_sign_up.xml	(date 1606589597876)
-@@ -17,6 +17,7 @@
-     android:layout_marginTop="30dp"
-     android:textStyle="bold"
-     android:textColor="@android:color/black"/>
-+
-     <ImageView
-         android:id="@+id/shroomie"
-         android:layout_width="180dp"
-@@ -36,6 +37,7 @@
-         android:layout_alignParentLeft="true"
-         android:textColor="@android:color/black"
-         android:layout_marginLeft="190dp"/>
-+
-     <TextView
-         android:id="@+id/text_signup"
-         android:layout_width="300dp"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52_[Default_Changelist]/shelved.patch	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52_[Default_Changelist]/shelved.patch	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
@@ -1,197 +0,0 @@
-Index: app/src/main/java/com/example/shroomies/MainActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.shroomies;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    DrawerLayout drawerLayout;\r\n    ActionBarDrawerToggle barDrawerToggle;\r\n    Toolbar toolbar;\r\n    NavigationView navigationView;\r\n    static BottomNavigationView btm_view;\r\n    FragmentTransaction ft;\r\n    FragmentManager fm;\r\n    ImageView myShroomies;\r\n    TextView usernameDrawer;\r\n    SessionManager sessionManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Bundle extras = getIntent().getExtras();\r\n        if(extras!=null){\r\n            String username = extras.getString(\"USERNAME\");\r\n            String email=extras.getString(\"EMAIL\");\r\n            sessionManager=new SessionManager(getApplicationContext(),username);\r\n            sessionManager.createSession(username,email);\r\n            Toast.makeText(this,username,Toast.LENGTH_LONG).show();\r\n        }\r\n        btm_view = findViewById(R.id.bottomNavigationView);\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerLayout);\r\n        toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        usernameDrawer=findViewById(R.id.drawer_nav_profile_name);\r\n\r\n        setSupportActionBar(toolbar);\r\n        getFragment(new FindRoommate());\r\n        barDrawerToggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open, R.string.close);\r\n        drawerLayout.addDrawerListener(barDrawerToggle);\r\n        barDrawerToggle.setDrawerIndicatorEnabled(true);\r\n        barDrawerToggle.syncState();\r\n        navigationView = (NavigationView) findViewById(R.id.navigationView);\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n                if(menuItem.getItemId()==R.id.setting_menu){\r\n                    getFragment(new PrivacySetting());\r\n                }if(menuItem.getItemId()==R.id.my_archive_menu){\r\n                    getFragment(new Archive());\r\n                }if(menuItem.getItemId()==R.id.my_favorite_menu){\r\n                    getFragment(new Favorite());\r\n\r\n                }if(menuItem.getItemId()==R.id.my_requests_menu){\r\n                    getFragment(new Request());\r\n                }if(menuItem.getItemId()==R.id.logout){\r\n                    finish();\r\n                    sessionManager.logout();\r\n                    Intent intent = new Intent(MainActivity.this , LoginActivity.class);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    finish();\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        btm_view.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener(){\r\n\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                if(menuItem.getItemId()==R.id.find_roomie_menu){\r\n                    getFragment(new FindRoommate());\r\n                }if(menuItem.getItemId()==R.id.publish_post_menu){\r\n                    getFragment(new PublishPost());\r\n                }if(menuItem.getItemId()==R.id.message_inbox_menu){\r\n                    getFragment(new MessageInbox());\r\n\r\n                }if(menuItem.getItemId()==R.id.user_profile_menu){\r\n                    getFragment(new UserProfile());\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        myShroomies=findViewById(R.id.logo_toolbar);\r\n        myShroomies.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                getFragment(new MyShroomies());\r\n            }\r\n        });\r\n\r\n    }\r\n    private void getFragment (Fragment fragment) {\r\n        fm = getSupportFragmentManager();\r\n        ft = fm.beginTransaction();\r\n        ft.addToBackStack(null);\r\n        ft.replace(R.id.fragmentContainer, fragment);\r\n        ft.commit();\r\n    }\r\n\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/shroomies/MainActivity.java	(revision e57c815b76854a0fb660ccf0476f3c3415d02ddb)
-+++ app/src/main/java/com/example/shroomies/MainActivity.java	(date 1606758111447)
-@@ -20,6 +20,8 @@
- 
- import com.google.android.material.bottomnavigation.BottomNavigationView;
- import com.google.android.material.navigation.NavigationView;
-+import com.google.firebase.auth.FirebaseAuth;
-+import com.google.firebase.auth.FirebaseUser;
- 
- public class MainActivity extends AppCompatActivity {
-     DrawerLayout drawerLayout;
-@@ -36,7 +38,16 @@
-     @Override
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-+
-         setContentView(R.layout.activity_main);
-+        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
-+        if (user != null) {
-+            // Name, email address, and profile photo Url
-+            String name = user.getDisplayName();
-+            String email = user.getEmail();
-+            Toast.makeText(MainActivity.this, "Welcome to Shroomies! "+ name, Toast.LENGTH_SHORT).show();
-+        }
-+
-         Bundle extras = getIntent().getExtras();
-         if(extras!=null){
-             String username = extras.getString("USERNAME");
-Index: app/src/main/java/com/example/shroomies/LoginActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.shroomies;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport android.text.Editable;\r\nimport android.text.TextUtils;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.biometric.BiometricConstants;\r\nimport androidx.biometric.BiometricPrompt;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseAuthInvalidCredentialsException;\r\nimport com.google.firebase.auth.FirebaseAuthInvalidUserException;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.firebase.auth.UserInfo;\r\n\r\nimport java.io.File;\r\nimport java.util.concurrent.Executor;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n   protected EditText username;\r\n   protected EditText password;\r\n    Button login;\r\n    TextView signup;\r\n    private final int RC_SIGN_IN = 7;\r\n    GoogleSignInClient mGoogleSignInClient;\r\n    FirebaseAuth mAuth;\r\n    TextView forgotPassword;\r\n    SessionManager sessionManager;\r\n    boolean successBiometric = false;\r\n    static String user;\r\n    private Executor executor;\r\n    private BiometricPrompt biometricPrompt;\r\n    private BiometricPrompt.PromptInfo promptInfo;\r\n    boolean alredyLoggedin = false;\r\n    Button google_sign;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        sessionManager=new SessionManager();\r\n        user=sessionManager.checkUsersLoggedIn(getApplicationContext());\r\n        if(user!=null){\r\n            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            intent.putExtra(\"USERNAME\",user);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        setContentView(R.layout.activity_login);\r\n        username=findViewById(R.id.email_login);\r\n        password=findViewById(R.id.password_login);\r\n        login=findViewById(R.id.login_button);\r\n        signup=findViewById(R.id.sign_up_button);\r\n        google_sign = findViewById(R.id.google_sign_up);\r\n        forgotPassword=findViewById(R.id.forgot_password_login);\r\n        username.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                String typedUsername=username.getText().toString();\r\n                sessionManager=new SessionManager(getApplicationContext(),typedUsername);\r\n                if(sessionManager.biometricIsEnabled()){\r\n                    password.setOnTouchListener(new View.OnTouchListener() {\r\n                        @Override\r\n                        public boolean onTouch(View v, MotionEvent event) {\r\n                            setBiometric();\r\n                            promptInfo = new BiometricPrompt.PromptInfo.Builder()\r\n                                    .setTitle(\"Biometric login for my app\")\r\n                                    .setSubtitle(\"Log in using your biometric credential\")\r\n                                    .setNegativeButtonText(\"Use account password\")\r\n                                    .build();\r\n                            biometricPrompt.authenticate(promptInfo);\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n        google_sign.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                signIn();\r\n            }\r\n        });\r\n        forgotPassword.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(getApplication(),ResetPassword.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n            }\r\n        });\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(getApplication(),SignUpActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n            }\r\n        });\r\nif(!successBiometric){\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n             loginUser(successBiometric);\r\n            }\r\n        });\r\n\r\n    }}\r\n    private void loginUser(boolean biometricSuccessful){\r\n        final String uname_txt = username.getText().toString();\r\n        String pw_txt = password.getText().toString();\r\n\r\n        if (TextUtils.isEmpty(uname_txt) || TextUtils.isEmpty(pw_txt)){\r\n            Toast.makeText(LoginActivity.this, \"Please fill in your details\",Toast.LENGTH_SHORT).show();\r\n        }\r\n        else {\r\n            if(biometricSuccessful){\r\n                sessionManager=new SessionManager(getApplicationContext(),uname_txt);\r\n                // get name of the user\r\n                sessionManager.createSession(mAuth.getCurrentUser().getDisplayName().toString(),uname_txt);\r\n                Toast.makeText(LoginActivity.this, \"Welcome to Shroomies!\", Toast.LENGTH_SHORT).show();\r\n                Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n\r\n            mAuth.signInWithEmailAndPassword(uname_txt, pw_txt). addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<AuthResult> task) {\r\n                    if (task.isSuccessful()){\r\n                        FirebaseUser user = mAuth.getCurrentUser();\r\n                        if (user != null) {\r\n                            for (UserInfo profile : user.getProviderData()){\r\n                                String name = profile.getDisplayName();\r\n                                String email = profile.getEmail();\r\n//                                sessionManager=new SessionManager(getApplicationContext(),email);\r\n//                                sessionManager.createSession(name,email);\r\n                                Toast.makeText(LoginActivity.this, \"Welcome to Shroomies! \"+email, Toast.LENGTH_SHORT).show();\r\n                                Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                intent.putExtra(\"USERNAME\",name);\r\n                                intent.putExtra(\"EMIAL\",email);\r\n                                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    if (e instanceof FirebaseAuthInvalidCredentialsException) {\r\n                        Toast.makeText(LoginActivity.this, \"Invalid password\", Toast.LENGTH_SHORT).show();\r\n                    } else if (e instanceof FirebaseAuthInvalidUserException) {\r\n\r\n                        String errorCode =\r\n                                ((FirebaseAuthInvalidUserException) e).getErrorCode();\r\n\r\n                        if (errorCode.equals(\"ERROR_USER_NOT_FOUND\")) {\r\n                            Toast.makeText(LoginActivity.this, \"The email does not belong to a registered account. Please proceed to Sign Up.\", Toast.LENGTH_SHORT).show();\r\n                        } else if (errorCode.equals(\"ERROR_USER_DISABLED\")) {\r\n                            Toast.makeText(LoginActivity.this, \"User account has been disabled\", Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(LoginActivity.this, e.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        }\r\n    boolean setBiometric(){\r\n        executor = ContextCompat.getMainExecutor(this);\r\n        biometricPrompt = new BiometricPrompt(LoginActivity.this,\r\n                executor, new BiometricPrompt.AuthenticationCallback() {\r\n            @Override\r\n            public void onAuthenticationError(int errorCode,\r\n                                              @NonNull CharSequence errString) {\r\n                super.onAuthenticationError(errorCode, errString);\r\n                if (errorCode == BiometricConstants.ERROR_USER_CANCELED){\r\n                    password.setOnTouchListener(null);\r\n                }else{\r\n                    Toast.makeText(getApplicationContext(),\r\n                            \"Authentication error: \" + errString, Toast.LENGTH_SHORT)\r\n                            .show();\r\n                }\r\n                successBiometric = false;\r\n            }\r\n            @Override\r\n            public void onAuthenticationSucceeded(\r\n                    @NonNull BiometricPrompt.AuthenticationResult result) {\r\n                super.onAuthenticationSucceeded(result);\r\n                successBiometric=true;\r\n                loginUser(successBiometric);\r\n            }\r\n            @Override\r\n            public void onAuthenticationFailed() {\r\n                super.onAuthenticationFailed();\r\n                Toast.makeText(getApplicationContext(), \"Authentication failed\",\r\n                        Toast.LENGTH_SHORT)\r\n                        .show();\r\n                successBiometric=false;\r\n            }\r\n        });\r\n\r\n        // Prompt appears when user clicks \"Log in\".\r\n        // Consider integrating with the keystore to unlock cryptographic operations,\r\n        // if needed by your app.\r\n        return successBiometric;\r\n    }\r\n    private void signIn() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == RC_SIGN_IN) {\r\n\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n\r\n                firebaseAuthWithGoogle(account);\r\n            } catch (ApiException e) {\r\n                Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n    private void firebaseAuthWithGoogle(GoogleSignInAccount acct) {\r\n        Log.d(\"Login\",\"firebaseAuthWithGoogle:\" + acct.getId());\r\n\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(acct.getIdToken(), null);\r\n\r\n        mAuth.signInWithCredential(credential).addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<AuthResult> task) {\r\n                if (task.isSuccessful()){\r\n                    Log.d(\"Login\", \"signInWithCredential:Success\");\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n                    sessionManager=new SessionManager(getApplicationContext(),user.getEmail());\r\n                    sessionManager.createSession(user.getEmail(),user.getEmail());\r\n                    Intent intent= new Intent(getApplicationContext(),MainActivity.class);\r\n                    startActivity(intent);\r\n\r\n                    Toast.makeText(LoginActivity.this, \"User Signed In\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    Log.w(\"Login\", \"signInWithCredentail:Failure\", task.getException());\r\n                    Toast.makeText(LoginActivity.this, \"Authentication Failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/shroomies/LoginActivity.java	(revision e57c815b76854a0fb660ccf0476f3c3415d02ddb)
-+++ app/src/main/java/com/example/shroomies/LoginActivity.java	(date 1606755003928)
-@@ -298,7 +298,7 @@
-                     Toast.makeText(LoginActivity.this, "User Signed In", Toast.LENGTH_SHORT).show();
-                 }
-                 else{
--                    Log.w("Login", "signInWithCredentail:Failure", task.getException());
-+                    Log.w("Login", "signInWithCredential:Failure", task.getException());
-                     Toast.makeText(LoginActivity.this, "Authentication Failed", Toast.LENGTH_SHORT).show();
-                 }
-             }
-Index: app/src/main/res/layout/activity_reset_password.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@drawable/gradient_yellow_background\">\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/txt_forgot\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:padding=\"10dp\"\r\n        android:text=\"Forgot your password?\"\r\n        android:layout_marginTop=\"100dp\"\r\n        android:layout_marginLeft=\"20dp\"\r\n        android:textSize=\"30sp\"\r\n        android:textStyle=\"bold\"\r\n        android:textColor=\"@android:color/black\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/txt_enter_email\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/txt_forgot\"\r\n        android:padding=\"10dp\"\r\n        android:text=\"Enter email id to reset password\"\r\n        android:layout_marginLeft=\"30dp\"\r\n        android:layout_marginTop=\"50dp\"\r\n        android:textSize=\"20sp\"\r\n        android:textStyle=\"bold\"\r\n        android:textColor=\"@android:color/black\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/edt_reset_email\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/txt_enter_email\"\r\n        android:layout_marginRight=\"50dp\"\r\n        android:layout_marginLeft=\"50dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:hint=\"  Enter registered email here  \"\r\n        android:textSize=\"20sp\"\r\n        android:inputType=\"textEmailAddress\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_reset_password\"\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/edt_reset_email\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:text=\"Reset Password\"\r\n        android:background=\"@drawable/button_round\"/>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/btn_reset_password\"\r\n        android:layout_marginTop=\"50dp\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:background=\"@drawable/button_round\"\r\n        android:text=\"BACK\"\r\n        android:textColor=\"@color/colorAccent\" />\r\n\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_reset_password.xml	(revision e57c815b76854a0fb660ccf0476f3c3415d02ddb)
-+++ app/src/main/res/layout/activity_reset_password.xml	(date 1606755877832)
-@@ -9,32 +9,23 @@
-         android:id="@+id/txt_forgot"
-         android:layout_width="wrap_content"
-         android:layout_height="wrap_content"
--        android:padding="10dp"
--        android:text="Forgot your password?"
--        android:layout_marginTop="100dp"
-         android:layout_marginLeft="20dp"
--        android:textSize="30sp"
--        android:textStyle="bold"
--        android:textColor="@android:color/black"/>
--
--    <TextView
--        android:id="@+id/txt_enter_email"
--        android:layout_width="wrap_content"
--        android:layout_height="wrap_content"
--        android:layout_below="@+id/txt_forgot"
-+        android:layout_marginTop="100dp"
-+        android:layout_marginRight="20dp"
-+        android:background="@drawable/txt_bg_rectangle"
-         android:padding="10dp"
--        android:text="Enter email id to reset password"
--        android:layout_marginLeft="30dp"
--        android:layout_marginTop="50dp"
--        android:textSize="20sp"
--        android:textStyle="bold"
--        android:textColor="@android:color/black" />
-+        android:text="Enter your email to proceed with password recovery"
-+        android:textAlignment="center"
-+        android:textColor="@android:color/black"
-+        android:textSize="20sp" />
-+
-+
- 
-     <EditText
-         android:id="@+id/edt_reset_email"
-         android:layout_width="wrap_content"
-         android:layout_height="wrap_content"
--        android:layout_below="@+id/txt_enter_email"
-+        android:layout_below="@+id/txt_forgot"
-         android:layout_marginRight="50dp"
-         android:layout_marginLeft="50dp"
-         android:layout_marginTop="10dp"
-Index: app/src/main/res/drawable/txt_bg_rectangle.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/drawable/txt_bg_rectangle.xml	(date 1606755722456)
-+++ app/src/main/res/drawable/txt_bg_rectangle.xml	(date 1606755722456)
-@@ -0,0 +1,6 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<shape xmlns:android="http://schemas.android.com/apk/res/android">
-+    android:shape = "rectangle">
-+    <solid android:color="@android:color/white"/>
-+    <corners android:radius="10dp"/>
-+</shape>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15__Default_Changelist_.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15__Default_Changelist_.xml	(date 1606758112826)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15__Default_Changelist_.xml	(date 1606758112826)
-@@ -0,0 +1,4 @@
-+<changelist name="Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]" date="1606754779219" recycled="true" deleted="true">
-+  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch" />
-+  <option name="DESCRIPTION" value="Uncommitted changes before Update at 30-Nov-20 22:15 [Default Changelist]" />
-+</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch	(date 1606754702149)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch	(date 1606754702149)
-@@ -0,0 +1,53 @@
-+Index: app/src/main/java/com/example/shroomies/LoginActivity.java
-+IDEA additional info:
-+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-+<+>package com.example.shroomies;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.biometric.BiometricConstants;\r\nimport androidx.biometric.BiometricPrompt;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseAuthInvalidCredentialsException;\r\nimport com.google.firebase.auth.FirebaseAuthInvalidUserException;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\nimport java.io.File;\r\nimport java.util.concurrent.Executor;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n    protected EditText username;\r\n    protected EditText password;\r\n    Button login, google_sign;\r\n    TextView signup;\r\n\r\n    private final int RC_SIGN_IN = 7;\r\n    GoogleSignInClient mGoogleSignInClient;\r\n    FirebaseAuth mAuth;\r\n\r\n    SessionManager sessionManager;\r\n    boolean successBiometric = false;\r\n    static String user;\r\n    private Executor executor;\r\n    private BiometricPrompt biometricPrompt;\r\n    private BiometricPrompt.PromptInfo promptInfo;\r\n    boolean alredyLoggedin = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        try {\r\n            File root = new File(\"/data/data/com.example.Shroomies/shared_prefs\");\r\n            if (root.isDirectory()) {\r\n                for (File child : root.listFiles()) {\r\n                    String fileName = child.getPath().substring(48).split(\"\\\\.\")[0];\r\n                    SessionManager sessionManager = new SessionManager(LoginActivity.this, fileName);\r\n                    if (sessionManager.isLoggedIn()) {\r\n                        this.user = fileName;\r\n                        alredyLoggedin = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n        if (alredyLoggedin) {\r\n            startActivity(new Intent(this, MainActivity.class));\r\n            finish();\r\n            Toast.makeText(LoginActivity.this, \"logged in as \" + user, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        setContentView(R.layout.activity_login);\r\n        username = findViewById(R.id.email_login);\r\n        password = findViewById(R.id.password_login);\r\n        login = findViewById(R.id.login_button);\r\n        signup = findViewById(R.id.sign_up_button);\r\n        google_sign = findViewById(R.id.google_sign_up);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplication(), SignUpActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n        google_sign.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                signIn();\r\n            }\r\n        });\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String uname_txt = username.getText().toString();\r\n                String pw_txt = password.getText().toString();\r\n\r\n                if (TextUtils.isEmpty(uname_txt) || TextUtils.isEmpty(pw_txt)) {\r\n                    Toast.makeText(LoginActivity.this, \"Please fill in your details\", Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    loginUser(uname_txt, pw_txt);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loginUser(String username, String password) {\r\n        mAuth.signInWithEmailAndPassword(username, password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<AuthResult> task) {\r\n                if (task.isSuccessful()) {\r\n                    Toast.makeText(LoginActivity.this, \"Welcome to Shroomies!\", Toast.LENGTH_SHORT).show();\r\n                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                if (e instanceof FirebaseAuthInvalidCredentialsException) {\r\n                    Toast.makeText(LoginActivity.this, \"Invalid password\", Toast.LENGTH_SHORT).show();\r\n                } else if (e instanceof FirebaseAuthInvalidUserException) {\r\n\r\n                    String errorCode =\r\n                            ((FirebaseAuthInvalidUserException) e).getErrorCode();\r\n\r\n                    if (errorCode.equals(\"ERROR_USER_NOT_FOUND\")) {\r\n                        Toast.makeText(LoginActivity.this, \"The email does not belong to a registered account. Please proceed to Sign Up.\", Toast.LENGTH_SHORT).show();\r\n                    } else if (errorCode.equals(\"ERROR_USER_DISABLED\")) {\r\n                        Toast.makeText(LoginActivity.this, \"User account has been disabled\", Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(LoginActivity.this, e.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    boolean setBiometric() {\r\n        executor = ContextCompat.getMainExecutor(this);\r\n        biometricPrompt = new BiometricPrompt(LoginActivity.this,\r\n                executor, new BiometricPrompt.AuthenticationCallback() {\r\n            @Override\r\n            public void onAuthenticationError(int errorCode,\r\n                                              @NonNull CharSequence errString) {\r\n                super.onAuthenticationError(errorCode, errString);\r\n                if (errorCode == BiometricConstants.ERROR_USER_CANCELED) {\r\n                    login.setOnTouchListener(null);\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(),\r\n                            \"Authentication error: \" + errString, Toast.LENGTH_SHORT)\r\n                            .show();\r\n                }\r\n                successBiometric = false;\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationSucceeded(\r\n                    @NonNull BiometricPrompt.AuthenticationResult result) {\r\n                super.onAuthenticationSucceeded(result);\r\n                successBiometric = true;\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationFailed() {\r\n                super.onAuthenticationFailed();\r\n                Toast.makeText(getApplicationContext(), \"Authentication failed\",\r\n                        Toast.LENGTH_SHORT)\r\n                        .show();\r\n                successBiometric = false;\r\n            }\r\n        });\r\n\r\n        // Prompt appears when user clicks \"Log in\".\r\n        // Consider integrating with the keystore to unlock cryptographic operations,\r\n        // if needed by your app.\r\n        return successBiometric;\r\n    }\r\n\r\n    private void signIn() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == RC_SIGN_IN) {\r\n\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n\r\n                firebaseAuthWithGoogle(account);\r\n            } catch (ApiException e) {\r\n                Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n    private void firebaseAuthWithGoogle(GoogleSignInAccount acct) {\r\n        Log.d(\"Login\",\"firebaseAuthWithGoogle:\" + acct.getId());\r\n\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(acct.getIdToken(), null);\r\n\r\n        mAuth.signInWithCredential(credential).addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<AuthResult> task) {\r\n                if (task.isSuccessful()){\r\n                    Log.d(\"Login\", \"signInWithCredential:Success\");\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                    Toast.makeText(LoginActivity.this, \"User Signed In\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    Log.w(\"Login\", \"signInWithCredentail:Failure\", task.getException());\r\n                    Toast.makeText(LoginActivity.this, \"Authentication Failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n
-+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-+<+>UTF-8
-+===================================================================
-+--- app/src/main/java/com/example/shroomies/LoginActivity.java	(revision b5eed490fd6466253c4c7a3578131e1954620cbb)
-++++ app/src/main/java/com/example/shroomies/LoginActivity.java	(date 1606748453604)
-+@@ -32,6 +32,8 @@
-+ import com.google.firebase.auth.FirebaseAuthInvalidUserException;
-+ import com.google.firebase.auth.FirebaseUser;
-+ import com.google.firebase.auth.GoogleAuthProvider;
-++import com.google.firebase.auth.UserInfo;
-++
-+ 
-+ import java.io.File;
-+ import java.util.concurrent.Executor;
-+@@ -127,11 +129,17 @@
-+             @Override
-+             public void onComplete(@NonNull Task<AuthResult> task) {
-+                 if (task.isSuccessful()) {
-+-                    Toast.makeText(LoginActivity.this, "Welcome to Shroomies!", Toast.LENGTH_SHORT).show();
-+-                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);
-+-                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
-+-                    startActivity(intent);
-+-                    finish();
-++                    FirebaseUser muser = mAuth.getCurrentUser();
-++                    if (muser != null) {
-++                        for (UserInfo profile:muser.getProviderData()) {
-++                            String name = profile.getDisplayName();
-++                            Toast.makeText(LoginActivity.this, "Welcome to Shroomies!" + name, Toast.LENGTH_SHORT).show();
-++                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);
-++                            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
-++                            startActivity(intent);
-++                            finish();
-++                        }
-++                    }
-+                 }
-+             }
-+         }).addOnFailureListener(new OnFailureListener() {
-+@@ -229,9 +237,10 @@
-+                     FirebaseUser user = mAuth.getCurrentUser();
-+ 
-+                     Toast.makeText(LoginActivity.this, "User Signed In", Toast.LENGTH_SHORT).show();
-++                    startActivity(new Intent(LoginActivity.this, MainActivity.class));
-+                 }
-+                 else{
-+-                    Log.w("Login", "signInWithCredentail:Failure", task.getException());
-++                    Log.w("Login", "signInWithCredential:Failure", task.getException());
-+                     Toast.makeText(LoginActivity.this, "Authentication Failed", Toast.LENGTH_SHORT).show();
-+                 }
-+             }
-diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01__Default_Changelist_.xml
-diff --git .idea/shelf/Uncommitted_changes_before_Update_at_29-Nov-20_00_23__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_29-Nov-20_00_23__Default_Changelist_.xml
-diff --git .idea/shelf/Uncommitted_changes_before_Update_at_28-Nov-20_18_35__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_28-Nov-20_18_35__Default_Changelist_.xml
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52__Default_Changelist_.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52__Default_Changelist_.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_30-Nov-20_23_52_[Default_Changelist]" date="1606760711309" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_23_52_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 30-Nov-20 23:52 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01__Default_Changelist_.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01__Default_Changelist_.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_30-Nov-20_00_01_[Default_Changelist]" date="1606674716155" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_00_01_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 30-Nov-20 00:01 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-Nov-20_22_15_[Default_Changelist]/shelved.patch	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
@@ -1,53 +0,0 @@
-Index: app/src/main/java/com/example/shroomies/LoginActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.shroomies;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.biometric.BiometricConstants;\r\nimport androidx.biometric.BiometricPrompt;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseAuthInvalidCredentialsException;\r\nimport com.google.firebase.auth.FirebaseAuthInvalidUserException;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\nimport java.io.File;\r\nimport java.util.concurrent.Executor;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n    protected EditText username;\r\n    protected EditText password;\r\n    Button login, google_sign;\r\n    TextView signup;\r\n\r\n    private final int RC_SIGN_IN = 7;\r\n    GoogleSignInClient mGoogleSignInClient;\r\n    FirebaseAuth mAuth;\r\n\r\n    SessionManager sessionManager;\r\n    boolean successBiometric = false;\r\n    static String user;\r\n    private Executor executor;\r\n    private BiometricPrompt biometricPrompt;\r\n    private BiometricPrompt.PromptInfo promptInfo;\r\n    boolean alredyLoggedin = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        try {\r\n            File root = new File(\"/data/data/com.example.Shroomies/shared_prefs\");\r\n            if (root.isDirectory()) {\r\n                for (File child : root.listFiles()) {\r\n                    String fileName = child.getPath().substring(48).split(\"\\\\.\")[0];\r\n                    SessionManager sessionManager = new SessionManager(LoginActivity.this, fileName);\r\n                    if (sessionManager.isLoggedIn()) {\r\n                        this.user = fileName;\r\n                        alredyLoggedin = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n        if (alredyLoggedin) {\r\n            startActivity(new Intent(this, MainActivity.class));\r\n            finish();\r\n            Toast.makeText(LoginActivity.this, \"logged in as \" + user, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        setContentView(R.layout.activity_login);\r\n        username = findViewById(R.id.email_login);\r\n        password = findViewById(R.id.password_login);\r\n        login = findViewById(R.id.login_button);\r\n        signup = findViewById(R.id.sign_up_button);\r\n        google_sign = findViewById(R.id.google_sign_up);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplication(), SignUpActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n        google_sign.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                signIn();\r\n            }\r\n        });\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String uname_txt = username.getText().toString();\r\n                String pw_txt = password.getText().toString();\r\n\r\n                if (TextUtils.isEmpty(uname_txt) || TextUtils.isEmpty(pw_txt)) {\r\n                    Toast.makeText(LoginActivity.this, \"Please fill in your details\", Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    loginUser(uname_txt, pw_txt);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loginUser(String username, String password) {\r\n        mAuth.signInWithEmailAndPassword(username, password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<AuthResult> task) {\r\n                if (task.isSuccessful()) {\r\n                    Toast.makeText(LoginActivity.this, \"Welcome to Shroomies!\", Toast.LENGTH_SHORT).show();\r\n                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                if (e instanceof FirebaseAuthInvalidCredentialsException) {\r\n                    Toast.makeText(LoginActivity.this, \"Invalid password\", Toast.LENGTH_SHORT).show();\r\n                } else if (e instanceof FirebaseAuthInvalidUserException) {\r\n\r\n                    String errorCode =\r\n                            ((FirebaseAuthInvalidUserException) e).getErrorCode();\r\n\r\n                    if (errorCode.equals(\"ERROR_USER_NOT_FOUND\")) {\r\n                        Toast.makeText(LoginActivity.this, \"The email does not belong to a registered account. Please proceed to Sign Up.\", Toast.LENGTH_SHORT).show();\r\n                    } else if (errorCode.equals(\"ERROR_USER_DISABLED\")) {\r\n                        Toast.makeText(LoginActivity.this, \"User account has been disabled\", Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(LoginActivity.this, e.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    boolean setBiometric() {\r\n        executor = ContextCompat.getMainExecutor(this);\r\n        biometricPrompt = new BiometricPrompt(LoginActivity.this,\r\n                executor, new BiometricPrompt.AuthenticationCallback() {\r\n            @Override\r\n            public void onAuthenticationError(int errorCode,\r\n                                              @NonNull CharSequence errString) {\r\n                super.onAuthenticationError(errorCode, errString);\r\n                if (errorCode == BiometricConstants.ERROR_USER_CANCELED) {\r\n                    login.setOnTouchListener(null);\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(),\r\n                            \"Authentication error: \" + errString, Toast.LENGTH_SHORT)\r\n                            .show();\r\n                }\r\n                successBiometric = false;\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationSucceeded(\r\n                    @NonNull BiometricPrompt.AuthenticationResult result) {\r\n                super.onAuthenticationSucceeded(result);\r\n                successBiometric = true;\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationFailed() {\r\n                super.onAuthenticationFailed();\r\n                Toast.makeText(getApplicationContext(), \"Authentication failed\",\r\n                        Toast.LENGTH_SHORT)\r\n                        .show();\r\n                successBiometric = false;\r\n            }\r\n        });\r\n\r\n        // Prompt appears when user clicks \"Log in\".\r\n        // Consider integrating with the keystore to unlock cryptographic operations,\r\n        // if needed by your app.\r\n        return successBiometric;\r\n    }\r\n\r\n    private void signIn() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == RC_SIGN_IN) {\r\n\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n\r\n                firebaseAuthWithGoogle(account);\r\n            } catch (ApiException e) {\r\n                Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n    private void firebaseAuthWithGoogle(GoogleSignInAccount acct) {\r\n        Log.d(\"Login\",\"firebaseAuthWithGoogle:\" + acct.getId());\r\n\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(acct.getIdToken(), null);\r\n\r\n        mAuth.signInWithCredential(credential).addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<AuthResult> task) {\r\n                if (task.isSuccessful()){\r\n                    Log.d(\"Login\", \"signInWithCredential:Success\");\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                    Toast.makeText(LoginActivity.this, \"User Signed In\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    Log.w(\"Login\", \"signInWithCredentail:Failure\", task.getException());\r\n                    Toast.makeText(LoginActivity.this, \"Authentication Failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/shroomies/LoginActivity.java	(revision b5eed490fd6466253c4c7a3578131e1954620cbb)
-+++ app/src/main/java/com/example/shroomies/LoginActivity.java	(date 1606748453604)
-@@ -32,6 +32,8 @@
- import com.google.firebase.auth.FirebaseAuthInvalidUserException;
- import com.google.firebase.auth.FirebaseUser;
- import com.google.firebase.auth.GoogleAuthProvider;
-+import com.google.firebase.auth.UserInfo;
-+
- 
- import java.io.File;
- import java.util.concurrent.Executor;
-@@ -127,11 +129,17 @@
-             @Override
-             public void onComplete(@NonNull Task<AuthResult> task) {
-                 if (task.isSuccessful()) {
--                    Toast.makeText(LoginActivity.this, "Welcome to Shroomies!", Toast.LENGTH_SHORT).show();
--                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);
--                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
--                    startActivity(intent);
--                    finish();
-+                    FirebaseUser muser = mAuth.getCurrentUser();
-+                    if (muser != null) {
-+                        for (UserInfo profile:muser.getProviderData()) {
-+                            String name = profile.getDisplayName();
-+                            Toast.makeText(LoginActivity.this, "Welcome to Shroomies!" + name, Toast.LENGTH_SHORT).show();
-+                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);
-+                            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
-+                            startActivity(intent);
-+                            finish();
-+                        }
-+                    }
-                 }
-             }
-         }).addOnFailureListener(new OnFailureListener() {
-@@ -229,9 +237,10 @@
-                     FirebaseUser user = mAuth.getCurrentUser();
- 
-                     Toast.makeText(LoginActivity.this, "User Signed In", Toast.LENGTH_SHORT).show();
-+                    startActivity(new Intent(LoginActivity.this, MainActivity.class));
-                 }
-                 else{
--                    Log.w("Login", "signInWithCredentail:Failure", task.getException());
-+                    Log.w("Login", "signInWithCredential:Failure", task.getException());
-                     Toast.makeText(LoginActivity.this, "Authentication Failed", Toast.LENGTH_SHORT).show();
-                 }
-             }
Index: app/src/main/res/layout/fragment_publish_post.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n\n<androidx.core.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingTop=\"60dp\"\n\n    android:paddingBottom=\"60dp\"\n    tools:context=\".PublishPost\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n\n            <Button\n                android:id=\"@+id/button\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"#FFFF\"\n                android:drawableStart=\"@drawable/ic_pen_icon_edit\"\n                android:padding=\"10dp\"\n                android:text=\"create new post\"\n\n                android:textAlignment=\"textStart\"\n                android:textSize=\"17sp\">\n\n            </Button>\n\n\n\n\n\n            <com.google.android.material.tabs.TabLayout\n\n                android:id=\"@+id/tab_layout_publish_post\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:tabBackground=\"@drawable/tab_backgorund_style\"\n                >\n\n                <com.google.android.material.tabs.TabItem\n                    android:id=\"@+id/tab_button_apartment\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"apartment\"\n                    />\n\n\n                <com.google.android.material.tabs.TabItem\n                    android:id=\"@+id/tab_button_personal\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"personal\"\n                  />\n\n\n            </com.google.android.material.tabs.TabLayout>\n\n\n\n\n            <RelativeLayout\n                android:id=\"@+id/upload_image_card\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"180dp\"\n                android:layout_margin=\"10dp\"\n\n                android:background=\"@drawable/post_card_rectangle_round\"\n                android:elevation=\"3dp\">\n\n                <androidx.appcompat.widget.AppCompatTextView\n                    android:id=\"@+id/upload_image_text_view\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"top\"\n                    android:layout_margin=\"20dp\"\n                    android:text=\"upload images\"\n                    android:textSize=\"18sp\">\n\n                </androidx.appcompat.widget.AppCompatTextView>\n\n                <ImageView\n                    android:id=\"@+id/cloud_icon_publish_post\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_centerInParent=\"true\"\n                    android:background=\"@drawable/ic_upload_icon_cloud\">\n\n                </ImageView>\n                <TextView\n                    android:id=\"@+id/number_of_photos\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                   android:layout_toLeftOf=\"@id/image_icon_post\"\n                    android:layout_alignParentBottom=\"true\"\n                    android:layout_marginBottom=\"20dp\"\n                    android:layout_marginRight=\"2dp\"/>\n                <ImageView\n                    android:id=\"@+id/image_icon_post\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:src=\"@drawable/ic_icon_awesome_image\"\n                 android:layout_marginBottom=\"20dp\"\n                    android:layout_marginRight=\"30dp\"\n\n\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_alignParentBottom=\"true\"\n\n                    >\n\n                </ImageView>\n            </RelativeLayout>\n\n\n\n\n\n\n            <RelativeLayout\n                android:id=\"@+id/description_post\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"180dp\"\n                android:layout_margin=\"10dp\"\n                android:background=\"@drawable/post_card_rectangle_round\"\n                android:elevation=\"3dp\">\n\n                <TextView\n                    android:id=\"@+id/description_tv\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_margin=\"20dp\"\n\n                    android:text=\"Description:\"></TextView>\n\n                <EditText\n                    android:id=\"@+id/description_edit_text\"\n\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_below=\"@id/description_tv\"\n\n                    android:layout_marginLeft=\"20dp\"\n                    android:layout_marginRight=\"20dp\"\n                    android:layout_marginBottom=\"20dp\">\n\n                </EditText>\n            </RelativeLayout>\n\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\">\n\n            <RelativeLayout\n                android:id=\"@+id/number_of_roommates\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"130dp\"\n                android:layout_margin=\"10dp\"\n                android:layout_weight=\"1\"\n\n                android:background=\"@drawable/post_card_rectangle_round\"\n                android:elevation=\"3dp\">\n\n                <TextView\n                    android:id=\"@+id/number_of_roommates_tv\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:layout_marginLeft=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:layout_marginBottom=\"10dp\"\n\n                    android:text=\"No.roommates:\">\n\n                </TextView>\n\n                <NumberPicker\n                    android:id=\"@+id/roommate_number_picker\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@id/number_of_roommates_tv\"\n                    android:layout_centerInParent=\"true\"\n                    android:layout_marginBottom=\"10dp\">\n\n                </NumberPicker>\n\n            </RelativeLayout>\n\n            <RelativeLayout\n                android:id=\"@+id/budget_layout\"\n\n                android:layout_width=\"0dp\"\n                android:layout_height=\"130dp\"\n                android:layout_margin=\"10dp\"\n                android:layout_weight=\"1\"\n\n\n                android:background=\"@drawable/post_card_rectangle_round\"\n                android:elevation=\"3dp\">\n\n                <TextView\n                    android:id=\"@+id/budget_tv\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:layout_marginLeft=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:layout_marginBottom=\"10dp\"\n\n                    android:text=\"Budget:\">\n\n                </TextView>\n\n                <NumberPicker\n                    android:id=\"@+id/budget_number_picker\"\n                    android:layout_width=\"66dp\"\n                    android:layout_height=\"73dp\"\n                    android:layout_below=\"@id/budget_tv\"\n                    android:layout_centerInParent=\"true\"\n                    android:layout_marginBottom=\"10dp\"\n                    android:selectionDividerHeight=\"0dp\"\n                    >\n\n                </NumberPicker>\n\n            </RelativeLayout>\n        </LinearLayout>\n\n\n\n            <TextView\n\n                android:id=\"@+id/location_search_view\"\n                android:gravity=\"fill_vertical\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:minHeight=\"90dp\"\n                android:layout_gravity=\"center\"\n                android:layout_marginLeft=\"20dp\"\n                android:layout_marginTop=\"20dp\"\n                android:layout_marginRight=\"20dp\"\n                android:background=\"@drawable/location_search_bar\"\n\n                android:elevation=\"5dp\"\n                android:padding=\"10dp\"\n                app:drawableEndCompat=\"@drawable/ic_icon_feather_map\">\n\n            </TextView>\n\n\n        <com.example.shroomies.CustomMapView\n            android:id=\"@+id/address_map_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"250dp\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginRight=\"20dp\"\n            android:layout_marginBottom=\"20dp\"\n            android:elevation=\"10dp\">\n\n\n        </com.example.shroomies.CustomMapView>\n\n\n\n            <RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_margin=\"15dp\"\n                android:background=\"@drawable/post_card_rectangle_round\"\n                android:elevation=\"3dp\"\n                >\n\n                <TextView\n                    android:id=\"@+id/add_property\"\n                    android:layout_alignParentStart=\"true\"\n                    android:layout_width=\"wrap_content\"\n\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:layout_marginEnd=\"20dp\"\n                    android:text=\"Add properties\" />\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:padding=\"10dp\"\n                    android:layout_below=\"@id/add_property\">\n                <ImageButton\n                    android:layout_height=\"wrap_content\"\n\n                    android:layout_width=\"wrap_content\"\n                    android:layout_gravity=\"center_horizontal\"\n                    android:elevation=\"3dp\"\n                    android:padding=\"10dp\"\n                    android:background=\"@drawable/button_round\"\n                    android:src=\"@drawable/ic_icon_ionic_ios_male\"\n                    android:layout_margin=\"5dp\"\n                    />\n\n                    <Space\n                        android:layout_width=\"0dp\"\n                        android:layout_height=\"1dp\"\n                        android:layout_weight=\"1\" />\n                <ImageButton\n                    android:layout_height=\"wrap_content\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_gravity=\"center_horizontal\"\n                    android:elevation=\"3dp\"\n                    android:padding=\"10dp\"\n                    android:background=\"@drawable/button_round\"\n                    android:src=\"@drawable/ic_icon_ionic_ios_female\"\n                    android:layout_margin=\"5dp\"/>\n                    <Space\n                        android:layout_width=\"0dp\"\n                        android:layout_height=\"1dp\"\n                        android:layout_weight=\"1\" />\n                <ImageButton\n                    android:layout_height=\"wrap_content\"\n\n                    android:layout_width=\"wrap_content\"\n                    android:layout_gravity=\"center_horizontal\"\n                    android:layout_below=\"@id/add_property\"\n                    android:elevation=\"3dp\"\n                    android:padding=\"10dp\"\n                    android:background=\"@drawable/button_round\"\n                    android:src=\"@drawable/ic_icon_map_pet_store\"\n                    android:layout_margin=\"5dp\"/>\n                    <Space\n                        android:layout_width=\"0dp\"\n                        android:layout_height=\"1dp\"\n                        android:layout_weight=\"1\" />\n                <ImageButton\n                    android:layout_height=\"wrap_content\"\n\n                    android:layout_width=\"wrap_content\"\n                    android:layout_gravity=\"center_horizontal\"\n                    android:layout_below=\"@id/add_property\"\n                    android:elevation=\"3dp\"\n                    android:padding=\"10dp\"\n                    android:background=\"@drawable/button_round\"\n                    android:src=\"@drawable/ic_icon_material_smoke_free\"\n                    android:layout_margin=\"5dp\"/>\n\n                </LinearLayout>\n\n            </RelativeLayout>\n\n        <ImageButton\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"12dp\"\n            android:layout_gravity=\"center\"\n            android:gravity=\"center\"\n            android:elevation=\"3dp\"\n            android:background=\"@drawable/button_circle_yellow\"\n            android:src=\"@drawable/ic_icon_material_publish\"\n            />\n\n\n\n\n\n    </LinearLayout>\n\n\n</androidx.core.widget.NestedScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_publish_post.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/src/main/res/layout/fragment_publish_post.xml	(date 1607782045000)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<androidx.core.widget.NestedScrollView xmlns:android="http://schemas.android.com/apk/res/android"
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
@@ -10,30 +10,18 @@
     android:paddingBottom="60dp"
     tools:context=".PublishPost">
 
+
+    <androidx.core.widget.NestedScrollView
+        android:id="@+id/nested"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:fillViewport="true">
+
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:orientation="vertical">
 
-
-            <Button
-                android:id="@+id/button"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:background="#FFFF"
-                android:drawableStart="@drawable/ic_pen_icon_edit"
-                android:padding="10dp"
-                android:text="create new post"
-
-                android:textAlignment="textStart"
-                android:textSize="17sp">
-
-            </Button>
-
-
-
-
-
             <com.google.android.material.tabs.TabLayout
 
                 android:id="@+id/tab_layout_publish_post"
@@ -61,95 +49,137 @@
             </com.google.android.material.tabs.TabLayout>
 
 
-
-
-            <RelativeLayout
-                android:id="@+id/upload_image_card"
-                android:layout_width="match_parent"
-                android:layout_height="180dp"
-                android:layout_margin="10dp"
+        <RelativeLayout
+            android:id="@+id/upload_image_card"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_margin="10dp"
 
-                android:background="@drawable/post_card_rectangle_round"
-                android:elevation="3dp">
+            android:background="@drawable/post_card_rectangle_round"
+            android:elevation="3dp">
 
-                <androidx.appcompat.widget.AppCompatTextView
-                    android:id="@+id/upload_image_text_view"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_gravity="top"
-                    android:layout_margin="20dp"
-                    android:text="upload images"
-                    android:textSize="18sp">
+            <androidx.appcompat.widget.AppCompatTextView
+                android:id="@+id/upload_image_text_view"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="top"
+                android:layout_margin="20dp"
+                android:text="upload images"
+                android:textSize="18sp">
 
-                </androidx.appcompat.widget.AppCompatTextView>
+            </androidx.appcompat.widget.AppCompatTextView>
 
-                <ImageView
-                    android:id="@+id/cloud_icon_publish_post"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_centerInParent="true"
-                    android:background="@drawable/ic_upload_icon_cloud">
+            <ImageButton
+                android:elevation="5dp"
+                android:padding="15dp"
+                android:clickable="true"
+            android:id="@+id/cloud_icon_publish_post"
+            android:background="@drawable/button_circle_timberwolf_small"
+            android:src="@drawable/ic_upload_icon_cloud"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_margin="20dp"
+            android:layout_above="@+id/view_pager"
+                />
+
 
-                </ImageView>
-                <TextView
-                    android:id="@+id/number_of_photos"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                   android:layout_toLeftOf="@id/image_icon_post"
-                    android:layout_alignParentBottom="true"
-                    android:layout_marginBottom="20dp"
-                    android:layout_marginRight="2dp"/>
-                <ImageView
-                    android:id="@+id/image_icon_post"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:src="@drawable/ic_icon_awesome_image"
-                 android:layout_marginBottom="20dp"
-                    android:layout_marginRight="30dp"
-
-
-                    android:layout_alignParentRight="true"
-                    android:layout_alignParentBottom="true"
+
+            <TextView
+                android:id="@+id/number_of_photos"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_below="@+id/upload_image_text_view"
+                android:layout_marginRight="10dp"
+                android:layout_marginLeft="3dp"
+                android:layout_marginTop="5dp"
+                android:layout_toRightOf="@id/image_icon_post" />
+
+            <ImageView
+
+                android:id="@+id/image_icon_post"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignParentLeft="true"
+                android:layout_below="@+id/upload_image_text_view"
+                android:layout_marginLeft="30dp"
+                android:layout_marginBottom="10dp"
+                android:layout_marginTop="5dp"
+                android:elevation="3dp"
+                android:src="@drawable/ic_icon_awesome_image"
+                android:visibility="gone"
 
-                    >
-
-                </ImageView>
-            </RelativeLayout>
+                >
+            </ImageView>
 
+            <ImageButton
+                android:visibility="gone"
+                android:id="@+id/delete_image_post"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:src="@drawable/ic_icon_material_remove_circle_outline"
 
+                android:layout_below="@id/view_pager"
+                android:layout_marginTop="-60dp"
+                android:layout_marginLeft="40dp"
+                android:layout_alignParentLeft="true"
+                android:background="@drawable/small_circle_button"
+                android:elevation="5dp"
+                android:padding="5dp"
 
+                />
 
+            <androidx.viewpager.widget.ViewPager
 
-
-            <RelativeLayout
-                android:id="@+id/description_post"
+            android:layout_below="@id/image_icon_post"
+                android:id="@+id/view_pager"
                 android:layout_width="match_parent"
-                android:layout_height="180dp"
-                android:layout_margin="10dp"
-                android:background="@drawable/post_card_rectangle_round"
-                android:elevation="3dp">
+                android:layout_height="200dp"
+                android:layout_marginRight="20dp"
+                android:layout_marginLeft="20dp"
+                android:layout_marginBottom="20dp"
+                android:layout_marginTop="20dp"
+                android:visibility="gone">
 
-                <TextView
-                    android:id="@+id/description_tv"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_margin="20dp"
+
+            </androidx.viewpager.widget.ViewPager>
+            <com.make.dots.dotsindicator.DotsIndicator
+                android:visibility="gone"
+                android:layout_below="@id/view_pager"
+                android:layout_centerHorizontal="true"
+                android:id="@+id/dotsIndicator"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_marginTop="-60dp"
+                android:background="@drawable/dots_background"
+                android:padding="4dp"
+                app:dot_drawable="@drawable/ic_dot_darkgrey"
+                app:dot_drawable_unselected="@drawable/ic_dot_lightgrey"
+                app:dot_height="6dp"
+                app:dot_margin="4dp"
+                app:dot_width="6dp" />
+
+
+        </RelativeLayout>
+
+
 
-                    android:text="Description:"></TextView>
+
+
 
-                <EditText
-                    android:id="@+id/description_edit_text"
-
-                    android:layout_width="match_parent"
-                    android:layout_height="match_parent"
-                    android:layout_below="@id/description_tv"
+        <EditText
+            android:id="@+id/description_edit_text"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_margin="10dp"
+            android:background="@drawable/post_card_rectangle_round"
+            android:elevation="5dp"
+            android:hint="Description"
+            android:minHeight="80dp"
+            android:padding="20dp">
 
-                    android:layout_marginLeft="20dp"
-                    android:layout_marginRight="20dp"
-                    android:layout_marginBottom="20dp">
 
-                </EditText>
-            </RelativeLayout>
+        </EditText>
 
 
         <LinearLayout
@@ -158,7 +188,7 @@
             android:orientation="horizontal">
 
             <RelativeLayout
-                android:id="@+id/number_of_roommates"
+                android:id="@+id/number_of_roommates_relative_layout"
                 android:layout_width="0dp"
                 android:layout_height="130dp"
                 android:layout_margin="10dp"
@@ -213,7 +243,7 @@
                     android:layout_marginTop="20dp"
                     android:layout_marginBottom="10dp"
 
-                    android:text="Budget:">
+                    android:text="Price:">
 
                 </TextView>
 
@@ -233,25 +263,25 @@
         </LinearLayout>
 
 
-
-            <TextView
+        <TextView
 
-                android:id="@+id/location_search_view"
-                android:gravity="fill_vertical"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:minHeight="90dp"
-                android:layout_gravity="center"
-                android:layout_marginLeft="20dp"
-                android:layout_marginTop="20dp"
-                android:layout_marginRight="20dp"
-                android:background="@drawable/location_search_bar"
-
-                android:elevation="5dp"
-                android:padding="10dp"
-                app:drawableEndCompat="@drawable/ic_icon_feather_map">
+            android:id="@+id/location_search_view"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center"
+            android:layout_marginLeft="20dp"
+            android:layout_marginTop="20dp"
+            android:layout_marginRight="20dp"
+            android:background="@drawable/location_search_bar"
+            android:drawablePadding="5dp"
+            android:elevation="5dp"
+
+            android:gravity="fill_vertical"
+            android:minHeight="90dp"
+            android:padding="15dp"
+            android:drawableEnd="@drawable/ic_icon_feather_map">
 
-            </TextView>
+        </TextView>
 
 
         <com.example.shroomies.CustomMapView
@@ -288,86 +318,117 @@
                     android:text="Add properties" />
 
                 <LinearLayout
+                    android:id="@+id/property_Radio_group"
                     android:layout_width="match_parent"
                     android:layout_height="wrap_content"
                     android:padding="10dp"
-                    android:layout_below="@id/add_property">
-                <ImageButton
-                    android:layout_height="wrap_content"
+                    android:orientation="horizontal"
+                    android:layout_below="@id/add_property"
+                    >
 
-                    android:layout_width="wrap_content"
-                    android:layout_gravity="center_horizontal"
-                    android:elevation="3dp"
-                    android:padding="10dp"
-                    android:background="@drawable/button_round"
-                    android:src="@drawable/ic_icon_ionic_ios_male"
-                    android:layout_margin="5dp"
-                    />
+
+                    <androidx.appcompat.widget.AppCompatCheckBox
+                        android:id="@+id/male_image_button_publish_post"
+                        android:drawableStart="@drawable/ic_icon_ionic_ios_male"
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_horizontal"
+                        android:layout_margin="5dp"
+                        android:button="@android:color/transparent"
+                   android:background="@drawable/property_radio_selector"
+                        android:elevation="3dp"
+                        android:padding="10dp"
+                        />
 
                     <Space
                         android:layout_width="0dp"
                         android:layout_height="1dp"
                         android:layout_weight="1" />
-                <ImageButton
-                    android:layout_height="wrap_content"
-                    android:layout_width="wrap_content"
-                    android:layout_gravity="center_horizontal"
-                    android:elevation="3dp"
-                    android:padding="10dp"
-                    android:background="@drawable/button_round"
-                    android:src="@drawable/ic_icon_ionic_ios_female"
-                    android:layout_margin="5dp"/>
+
+                    <androidx.appcompat.widget.AppCompatCheckBox
+                        android:id="@+id/female_image_button_post"
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_horizontal"
+                        android:layout_margin="5dp"
+
+                        android:elevation="3dp"
+                        android:padding="10dp"
+                        android:drawableStart="@drawable/ic_icon_ionic_ios_female"
+                        android:button="@android:color/transparent"
+                        android:background="@drawable/property_radio_selector"/>
                     <Space
                         android:layout_width="0dp"
                         android:layout_height="1dp"
                         android:layout_weight="1" />
-                <ImageButton
-                    android:layout_height="wrap_content"
-
-                    android:layout_width="wrap_content"
-                    android:layout_gravity="center_horizontal"
-                    android:layout_below="@id/add_property"
-                    android:elevation="3dp"
-                    android:padding="10dp"
-                    android:background="@drawable/button_round"
-                    android:src="@drawable/ic_icon_map_pet_store"
-                    android:layout_margin="5dp"/>
+
+                    <androidx.appcompat.widget.AppCompatCheckBox
+                        android:id="@+id/pets_allowd_image_button_post"
+
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_below="@id/add_property"
+                        android:layout_gravity="center_horizontal"
+                        android:layout_margin="5dp"
+
+                        android:elevation="3dp"
+                        android:padding="10dp"
+                        android:drawableStart="@drawable/ic_icon_map_pet_store"
+                        android:button="@android:color/transparent"
+                        android:background="@drawable/property_radio_selector"/>
                     <Space
                         android:layout_width="0dp"
                         android:layout_height="1dp"
                         android:layout_weight="1" />
-                <ImageButton
-                    android:layout_height="wrap_content"
+
+                    <androidx.appcompat.widget.AppCompatCheckBox
+                        android:id="@+id/non_smoking_image_button_post"
 
-                    android:layout_width="wrap_content"
-                    android:layout_gravity="center_horizontal"
-                    android:layout_below="@id/add_property"
-                    android:elevation="3dp"
-                    android:padding="10dp"
-                    android:background="@drawable/button_round"
-                    android:src="@drawable/ic_icon_material_smoke_free"
-                    android:layout_margin="5dp"/>
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_below="@id/add_property"
+                        android:layout_gravity="center_horizontal"
+                        android:layout_margin="5dp"
+
+                        android:elevation="3dp"
+                        android:padding="10dp"
+                        android:drawableStart="@drawable/ic_icon_material_smoke_free"
+                        android:button="@android:color/transparent"
+                        android:background="@drawable/property_radio_selector"/>
 
                 </LinearLayout>
 
             </RelativeLayout>
 
         <ImageButton
+            android:id="@+id/publish_post_button"
+
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
+            android:layout_gravity="center"
             android:layout_margin="12dp"
-            android:layout_gravity="center"
+            android:background="@drawable/button_circle_yellow"
+            android:clickable="true"
+            android:elevation="3dp"
             android:gravity="center"
-            android:elevation="3dp"
-            android:background="@drawable/button_circle_yellow"
-            android:src="@drawable/ic_icon_material_publish"
-            />
-
-
-
-
+            android:src="@drawable/ic_icon_material_publish" />
 
     </LinearLayout>
 
+    </androidx.core.widget.NestedScrollView>
+
+    <com.airbnb.lottie.LottieAnimationView
+        android:visibility="gone"
+        android:id="@+id/lottie_uploading_post"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:layout_margin="30dp"
+        app:lottie_rawRes="@raw/lf30_editor_igyp9bvy"
+        app:lottie_autoPlay="true"
+        app:lottie_loop="true">
+    </com.airbnb.lottie.LottieAnimationView>
+
+
+</RelativeLayout>
 
-</androidx.core.widget.NestedScrollView>
\ No newline at end of file
Index: app/src/main/java/com/example/shroomies/PublishPost.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.shroomies;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.provider.MediaStore;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.NumberPicker;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnSuccessListener;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\n\npublic class PublishPost extends Fragment implements OnMapReadyCallback {\n    private static final String MAPVIEW_BUNDLE_KEY = \"MapViewBundleKey\";\n    private double latitude;\n    private double longitude;\n    View v;\n    FragmentManager fm;\n    FragmentTransaction ft;\n    String address;\n    LatLng latLng;\n    private static final int PICK_IMAGE_MULTIPLE= 1;\n    List<Uri> imageUri;\n\n    NumberPicker numberOfRoomMatesNumberPicker;\n    NumberPicker budgetNumberPicker;\n    private CustomMapView mMapView;\n    private TextView locationEditText;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private GoogleMap mMap;\n    Geocoder geocoder;\n    ImageView cloudImageView;\n    TextView numberOfPhotos;\n\n\n\n\n\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        v = inflater.inflate(R.layout.fragment_publish_post, container, false);\n        // clear any adresses and coordinates from the main activity\n\n\n        return v;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        numberOfRoomMatesNumberPicker = v.findViewById(R.id.roommate_number_picker);\n        numberOfRoomMatesNumberPicker.setMinValue(1);\n        numberOfRoomMatesNumberPicker.setMaxValue(7);\n        mMapView =v.findViewById(R.id.address_map_view);\n        locationEditText = v.findViewById(R.id.location_search_view);\n        cloudImageView = v.findViewById(R.id.cloud_icon_publish_post);\n        numberOfPhotos = v.findViewById(R.id.number_of_photos);\n        initGoogleMap(savedInstanceState);\n        numberOfPhotos = v.findViewById(R.id.number_of_photos);\n        imageUri = new ArrayList<>();\n        cloudImageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // get the photo chosen\n                openGallery();\n\n\n            }\n        });\n\n        //when edit text is pressed open the map fragement\n        locationEditText.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getFragment(new MapsFragment());\n            }\n        });\n\n\n\n\n    }\n    @Override\n    public void onMapReady(GoogleMap map) {\n        if (ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED\n                && ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            return;\n        }\n        // initialize the map to be used in the getLocation method\n        mMap = map;\n        // check if the location has been updated form the map fragment\n        // if the location is updated s\n        if(MainActivity.updatedAdresses!=null&& MainActivity.updatedLatLng!=null) {\n            address = MainActivity.updatedAdresses;\n            latLng = MainActivity.updatedLatLng;\n            setMarker(latLng);\n            locationEditText.setText(address);\n\n        } else {\n\n            map.setMyLocationEnabled(false);\n            getLocationUpdateMarker();\n        }\n    }\n\n    private void initGoogleMap(Bundle savedInstanceState) {\n        // *** IMPORTANT ***\n        // MapView requires that the Bundle you pass contain _ONLY_ MapView SDK\n        // objects or sub-Bundles.\n        Bundle mapViewBundle = null;\n        if (savedInstanceState != null) {\n            mapViewBundle = savedInstanceState.getBundle(MAPVIEW_BUNDLE_KEY);\n        }\n\n        mMapView.onCreate(mapViewBundle);\n        mMapView.getMapAsync(this);\n\n\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n\n        Bundle mapViewBundle = outState.getBundle(MAPVIEW_BUNDLE_KEY);\n        if (mapViewBundle == null) {\n            mapViewBundle = new Bundle();\n            outState.putBundle(MAPVIEW_BUNDLE_KEY, mapViewBundle);\n        }\n\n        mMapView.onSaveInstanceState(mapViewBundle);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mMapView.onResume();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mMapView.onStart();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        mMapView.onStop();\n    }\n\n    @Override\n    public void onPause() {\n        mMapView.onPause();\n        super.onPause();\n    }\n\n    @Override\n    public void onDestroy() {\n        mMapView.onDestroy();\n        super.onDestroy();\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mMapView.onLowMemory();\n    }\n\n    private  void getLocationUpdateMarker() {\n\n        //get the location of the phone in order to set the pin on the map to the current Location\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(getActivity());\n        //check the API level\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\n            // Check if permission to access fine location is granted\n            if (getActivity().checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                //get the location\n                fusedLocationProviderClient.getLastLocation()\n                        .addOnSuccessListener(new OnSuccessListener<Location>() {\n                            @Override\n                            public void onSuccess(Location location) {\n                                if (location != null) {\n\n                                    latitude = location.getLatitude();\n                                    longitude = location.getLongitude();\n                                    latLng = new LatLng(latitude, longitude);\n                                    setCurrentLocationAddress();\n                                    setMarker(latLng);\n                                }\n                            }\n                        });\n            } else {\n                // make another  request to allow the app to access location\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\n            }\n        }\n\n\n    }\n    void setCurrentLocationAddress()  {\n        geocoder = new Geocoder(getActivity());\n            List<Address> addresses;\n            geocoder = new Geocoder(getActivity(), Locale.getDefault());\n\n        try {\n            addresses = geocoder.getFromLocation(latitude, longitude, 1); // Here 1 represent max location result to returned, by documents it recommended 1 to 5\n            String maddress = addresses.get(0).getAddressLine(0); // If any additional address line present than only, check with max available address lines by getMaxAddressLineIndex()\n            String city = addresses.get(0).getLocality();\n            String state = addresses.get(0).getAdminArea();\n            String country = addresses.get(0).getCountryName();\n            String postalCode = addresses.get(0).getPostalCode();\n            String knownName = addresses.get(0).getFeatureName(); // Only if available else return NULL\n            address = maddress +\" , \" +city;\n            locationEditText.setText(address);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n\n        }\n\n\n    private void getFragment (Fragment fragment) {\n        fm = getActivity().getSupportFragmentManager();\n        ft = fm.beginTransaction();\n        ft.addToBackStack(null);\n        ft.replace(R.id.fragmentContainer, fragment);\n        ft.commit();\n    }\n    private void setMarker(LatLng latLng){\n        // get the icon and resize it to set it as the marker\n        Bitmap bitmap = BitmapFactory.decodeResource(getResources(),getResources().getIdentifier(\"black_mushroom\" ,  \"drawable\", getActivity().getPackageName()));\n        Bitmap resizedBitmap = Bitmap.createScaledBitmap(bitmap, 90, 100, false);\n        MarkerOptions markerOptions = new MarkerOptions()\n                .position(latLng)\n                .icon(BitmapDescriptorFactory.fromBitmap(resizedBitmap));\n        mMap.addMarker(markerOptions);\n        mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,16));\n\n    }\n\n    private void openGallery() {\n        //add permisision denied handlers\n        Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n        gallery.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        startActivityForResult(gallery, PICK_IMAGE_MULTIPLE);\n\n    }\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data){\n        super.onActivityResult(requestCode, resultCode, data);\n        boolean duplicateFound = false;\n        Uri selectedImageUri;\n        if(imageUri.size()>5){\n            Toast.makeText(getActivity(), \"too many photos\" , Toast.LENGTH_SHORT).show();\n        }else {\n            if (resultCode == getActivity().RESULT_OK && requestCode == PICK_IMAGE_MULTIPLE) {\n                //get selected photo\n                selectedImageUri = data.getData();\n                //check if the selected uri already exists in tge list\n                for (Uri uri : imageUri) {\n                    //if duplicate found break\n                    if (selectedImageUri.equals(uri)) {\n                        duplicateFound = true;\n                        break;\n                    }\n                }\n                if (!duplicateFound) {\n                    //if no duplicate found  store the image\n                    imageUri.add(selectedImageUri);\n                    //set the the number of photos uploaded\n                    numberOfPhotos.setText(Integer.toString(imageUri.size()) + \"x uploaded  images\");\n                } else {\n                    Toast.makeText(getActivity(), \"the image has already been uploaded\", Toast.LENGTH_SHORT).show();\n\n                }\n\n\n            }\n        }\n    }\n}\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/shroomies/PublishPost.java	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/src/main/java/com/example/shroomies/PublishPost.java	(date 1607782399000)
@@ -1,7 +1,6 @@
 package com.example.shroomies;
 
 import android.Manifest;
-import android.content.Context;
 import android.content.Intent;
 import android.content.pm.PackageManager;
 import android.graphics.Bitmap;
@@ -16,22 +15,31 @@
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.core.app.ActivityCompat;
+import androidx.core.widget.NestedScrollView;
 import androidx.fragment.app.Fragment;
 import androidx.fragment.app.FragmentManager;
 import androidx.fragment.app.FragmentTransaction;
+import androidx.viewpager.widget.ViewPager;
 
 import android.provider.MediaStore;
+import android.util.Base64;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.ArrayAdapter;
+
+import android.view.animation.Animation;
+import android.widget.CheckBox;
+import android.widget.Checkable;
 import android.widget.EditText;
+import android.widget.ImageButton;
 import android.widget.ImageView;
-import android.widget.ListView;
+
 import android.widget.NumberPicker;
+import android.widget.RelativeLayout;
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.airbnb.lottie.LottieAnimationView;
 import com.google.android.gms.location.FusedLocationProviderClient;
 import com.google.android.gms.location.LocationServices;
 import com.google.android.gms.maps.CameraUpdateFactory;
@@ -40,13 +48,27 @@
 import com.google.android.gms.maps.model.BitmapDescriptorFactory;
 import com.google.android.gms.maps.model.LatLng;
 import com.google.android.gms.maps.model.MarkerOptions;
+import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.android.gms.tasks.Task;
+import com.google.android.material.tabs.TabLayout;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.make.dots.dotsindicator.DotsIndicator;
 
+
+import java.io.ByteArrayOutputStream;
+import java.io.FileNotFoundException;
 import java.io.IOException;
+import java.io.InputStream;
 import java.util.ArrayList;
+import java.util.HashMap;
 import java.util.List;
 import java.util.Locale;
 
+import kotlin.collections.AbstractIterator;
+
 
 public class PublishPost extends Fragment implements OnMapReadyCallback {
     private static final String MAPVIEW_BUNDLE_KEY = "MapViewBundleKey";
@@ -59,7 +81,6 @@
     LatLng latLng;
     private static final int PICK_IMAGE_MULTIPLE= 1;
     List<Uri> imageUri;
-
     NumberPicker numberOfRoomMatesNumberPicker;
     NumberPicker budgetNumberPicker;
     private CustomMapView mMapView;
@@ -67,11 +88,25 @@
     private FusedLocationProviderClient fusedLocationProviderClient;
     private GoogleMap mMap;
     Geocoder geocoder;
-    ImageView cloudImageView;
+    ImageButton cloudIconImageView;
     TextView numberOfPhotos;
-
-
-
+    ImageView imageIconPost;
+    ImageButton publishPostButton;
+    ViewPager viewPager;
+    private DotsIndicator dotsIndicator;
+    ImageView delteImageButton;
+    ViewPagerAdapter viewPagerAdapter;
+    int currentViewPagerPosition;
+    private TabLayout postTabLayout;
+    private RelativeLayout numberPickerRelativeLayout;
+    private RelativeLayout uploadImageCardRelativeLayouyt;
+    CheckBox maleCB;
+    CheckBox femaleCB;
+    CheckBox smokingCB;
+    CheckBox petCB;
+    EditText descriptionEditText;
+    LottieAnimationView uploadingProgress;
+    NestedScrollView nestedScrollView;
 
 
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
@@ -92,19 +127,33 @@
         numberOfRoomMatesNumberPicker.setMaxValue(7);
         mMapView =v.findViewById(R.id.address_map_view);
         locationEditText = v.findViewById(R.id.location_search_view);
-        cloudImageView = v.findViewById(R.id.cloud_icon_publish_post);
+        cloudIconImageView = v.findViewById(R.id.cloud_icon_publish_post);
         numberOfPhotos = v.findViewById(R.id.number_of_photos);
+        publishPostButton =  v.findViewById(R.id.publish_post_button);
         initGoogleMap(savedInstanceState);
         numberOfPhotos = v.findViewById(R.id.number_of_photos);
+        imageIconPost  = v.findViewById(R.id.image_icon_post);
+        viewPager = v.findViewById(R.id.view_pager);
+        dotsIndicator = v.findViewById(R.id.dotsIndicator);
+        delteImageButton = v.findViewById(R.id.delete_image_post);
+        postTabLayout = v.findViewById(R.id.tab_layout_publish_post);
+        numberPickerRelativeLayout = v.findViewById(R.id.number_of_roommates_relative_layout);
+        uploadImageCardRelativeLayouyt = v.findViewById(R.id.upload_image_card);
+        maleCB = v.findViewById(R.id.male_image_button_publish_post);
+        femaleCB = v.findViewById(R.id.female_image_button_post);
+        smokingCB = v.findViewById(R.id.non_smoking_image_button_post);
+        petCB = v.findViewById(R.id.pets_allowd_image_button_post);
+        descriptionEditText = v.findViewById(R.id.description_edit_text);
+        budgetNumberPicker = v.findViewById(R.id.budget_number_picker);
+        uploadingProgress = v.findViewById(R.id.lottie_uploading_post);
+        nestedScrollView = v.findViewById(R.id.nested);
         imageUri = new ArrayList<>();
-        cloudImageView.setOnClickListener(new View.OnClickListener() {
+
+        cloudIconImageView.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-
                 // get the photo chosen
                 openGallery();
-
-
             }
         });
 
@@ -115,8 +164,71 @@
                 getFragment(new MapsFragment());
             }
         });
+        publishPostButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                // list to hold all selected values from properties
+                List<Boolean>properties = new ArrayList<>();
+                properties.add(maleCB.isChecked());
+                properties.add(femaleCB.isChecked());
+                properties.add(petCB.isChecked());
+                properties.add(smokingCB.isChecked());
 
 
+                try {
+                    publishPost(latLng
+                    ,descriptionEditText.getText().toString()
+                    ,numberOfRoomMatesNumberPicker.getValue()
+                    ,budgetNumberPicker.getValue()
+                    ,properties
+                    ,imageUri);
+                } catch (FileNotFoundException e) {
+                    e.printStackTrace();
+                }
+            }
+        });
+
+        delteImageButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                deleteFromView();
+            }
+        });
+        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {
+            @Override
+            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) { }
+            @Override
+            public void onPageSelected(int position) {
+                //set the index of the current image
+            currentViewPagerPosition = position;
+            }
+            @Override
+            public void onPageScrollStateChanged(int state) { }
+        });
+
+        postTabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {
+            @Override
+            public void onTabSelected(TabLayout.Tab tab) {
+                if(tab.getPosition()==1){
+                    //if user selects personal post remove some of the options
+                    numberPickerRelativeLayout.setVisibility(View.GONE);
+                    uploadImageCardRelativeLayouyt.setVisibility(View.GONE);
+                }else{
+                    numberPickerRelativeLayout.setVisibility(View.VISIBLE);
+                    uploadImageCardRelativeLayouyt.setVisibility(View.VISIBLE);
+                }
+            }
+
+            @Override
+            public void onTabUnselected(TabLayout.Tab tab) {
+
+            }
+
+            @Override
+            public void onTabReselected(TabLayout.Tab tab) {
+
+            }
+        });
 
 
     }
@@ -170,10 +282,12 @@
             mapViewBundle = new Bundle();
             outState.putBundle(MAPVIEW_BUNDLE_KEY, mapViewBundle);
         }
-
-        mMapView.onSaveInstanceState(mapViewBundle);
-    }
+        if(mMapView!=null) {
+            mMapView.onSaveInstanceState(mapViewBundle);
+        }
 
+    }
+
     @Override
     public void onResume() {
         super.onResume();
@@ -254,7 +368,7 @@
             String country = addresses.get(0).getCountryName();
             String postalCode = addresses.get(0).getPostalCode();
             String knownName = addresses.get(0).getFeatureName(); // Only if available else return NULL
-            address = maddress +" , " +city;
+            address = knownName +" , " +maddress;
             locationEditText.setText(address);
         } catch (IOException e) {
             e.printStackTrace();
@@ -269,6 +383,7 @@
         fm = getActivity().getSupportFragmentManager();
         ft = fm.beginTransaction();
         ft.addToBackStack(null);
+        ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);
         ft.replace(R.id.fragmentContainer, fragment);
         ft.commit();
     }
@@ -290,6 +405,7 @@
         gallery.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);
         startActivityForResult(gallery, PICK_IMAGE_MULTIPLE);
 
+
     }
     @Override
     public void onActivityResult(int requestCode, int resultCode, Intent data){
@@ -311,18 +427,141 @@
                     }
                 }
                 if (!duplicateFound) {
-                    //if no duplicate found  store the image
-                    imageUri.add(selectedImageUri);
-                    //set the the number of photos uploaded
-                    numberOfPhotos.setText(Integer.toString(imageUri.size()) + "x uploaded  images");
-                } else {
-                    Toast.makeText(getActivity(), "the image has already been uploaded", Toast.LENGTH_SHORT).show();
+
+                    addToViewPager(selectedImageUri);
+                    cloudIconImageView.startAnimation(new Animation() {
+                    });
+
+
+                } else {
+                    Toast.makeText(getActivity(), "the image has already been uploaded", Toast.LENGTH_SHORT).show();
+
+                }
+
+            }
+        }
+    }
+    void removeAllimages(){
+        //clear  the image array
+        imageUri.clear();
+        //make the image icon invisible
+        imageIconPost.setVisibility(View.GONE);
+        //remove the number of posts from the  text view
+        numberOfPhotos.setText("");
+
+    }
+
+    void publishPost(LatLng locationLtLng , String description , int numberRoomMate , int price , List<Boolean> property , List<Uri> imageUri ) throws FileNotFoundException {
+        uploadingProgress.setVisibility(View.VISIBLE);
+        publishPostButton.setVisibility(View.GONE);
+        uploadingProgress.playAnimation();
+        nestedScrollView.setAlpha((float) 0.6);
+
+        HashMap<String ,Object> post = new HashMap<>();
+        String userUid =  FirebaseAuth.getInstance().getCurrentUser().getUid();
+        post.put("description" , description);
+
+        post.put("price", price);
+        post.put("numberOfRoommates" , numberRoomMate);
+        post.put("locationLatLng", locationLtLng);
+        post.put("preferences" , property);
+
+        List<String> encodedImageList = getEncodedList(imageUri);
+        post.put("encodedImageList" , encodedImageList);
+
+         DatabaseReference firebaseDatabase = FirebaseDatabase.getInstance().getReference();
+         firebaseDatabase.child("postApartment").child(userUid).setValue(post).addOnCompleteListener(new OnCompleteListener<Void>() {
+             @Override
+             public void onComplete(@NonNull Task<Void> task) {
+                 uploadingProgress.pauseAnimation();
+                 uploadingProgress.setVisibility(View.GONE);
+                 publishPostButton.setVisibility(View.VISIBLE);
+                 nestedScrollView.setAlpha((float) 1);
+                 if (task.isSuccessful()) {
+                     Toast.makeText(getContext(), "yayyy", Toast.LENGTH_SHORT).show();
+                 }
+             }
+         });
+
+
+
+
+    }
+
+        List<String> getEncodedList(List<Uri> imageUri) throws FileNotFoundException {
+        //List of strings will hold all the images as base64 images
+            List<String> encodedImageList = new ArrayList<>();
+            for (Uri  uri :
+                 imageUri) {
+                final InputStream imageStream;
+                imageStream = getActivity().getContentResolver().openInputStream(uri);
+                final Bitmap selectedImage = BitmapFactory.decodeStream(imageStream);
+                encodedImageList.add(encodeImage(selectedImage));
+
+            }
+            Toast.makeText(getActivity(), Integer.toString(encodedImageList.size()),Toast.LENGTH_LONG).show();
+            return encodedImageList;
+
+        }
+    private String encodeImage(Bitmap bm)
+    {
+        ByteArrayOutputStream baos = new ByteArrayOutputStream();
+        bm.compress(Bitmap.CompressFormat.JPEG,100,baos);
+        byte[] b = baos.toByteArray();
+        String encImage = Base64.encodeToString(b, Base64.DEFAULT);
+
+        return encImage;
+    }
+
+
+
+        void addToViewPager(Uri newImageUri){
+            imageIconPost.setVisibility(View.VISIBLE);
+            viewPager.setVisibility(View.VISIBLE);
+            dotsIndicator.setVisibility(View.VISIBLE);
+            delteImageButton.setVisibility(View.VISIBLE);
+            //if no duplicate found  store the image
+            imageUri.add(newImageUri);
+            //set the the number of photos uploaded
+            numberOfPhotos.setText(Integer.toString(imageUri.size()) + "x images");
+            //initalize adapter with the list of uri
+            viewPagerAdapter = new ViewPagerAdapter(getActivity(), imageUri);
+            // set the view pager to the adapter
+            viewPager.setAdapter(viewPagerAdapter);
+            // add the indicator to the view pager and set to update on chage od dataset
+            dotsIndicator.setViewPager(viewPager);
+            viewPager.getAdapter().registerDataSetObserver(dotsIndicator.getDataSetObserver());
+        }
+
+        void deleteFromView(){
+        if(imageUri.size()<=1){
+            imageUri.remove(0);
+        }else {
+            imageUri.remove(currentViewPagerPosition);
+        }
+            //set the the number of photos uploaded
+            numberOfPhotos.setText(Integer.toString(imageUri.size()) + "x images");
+            //initalize adapter with the list of uri
+            viewPagerAdapter = new ViewPagerAdapter(getActivity(), imageUri);
+            // set the view pager to the adapter
+            viewPager.setAdapter(viewPagerAdapter);
+            // add the indicator to the view pager and set to update on chage od dataset
+            dotsIndicator.setViewPager(viewPager);
+            viewPager.getAdapter().registerDataSetObserver(dotsIndicator.getDataSetObserver());
+            if (imageUri.size() == 0) {
+                imageIconPost.setVisibility(View.GONE);
+                viewPager.setVisibility(View.GONE);
+                dotsIndicator.setVisibility(View.GONE);
+                delteImageButton.setVisibility(View.GONE);
+                numberOfPhotos.setText("");
+            }
+            viewPager.setCurrentItem(currentViewPagerPosition);
 
-                }
+        }
 
 
-            }
-        }
     }
-}
 
+
+
+
Index: .idea/jarRepositories.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"RemoteRepositoriesConfiguration\">\n    <remote-repository>\n      <option name=\"id\" value=\"central\" />\n      <option name=\"name\" value=\"Maven Central repository\" />\n      <option name=\"url\" value=\"https://repo1.maven.org/maven2\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"jboss.community\" />\n      <option name=\"name\" value=\"JBoss Community repository\" />\n      <option name=\"url\" value=\"https://repository.jboss.org/nexus/content/repositories/public/\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"BintrayJCenter\" />\n      <option name=\"name\" value=\"BintrayJCenter\" />\n      <option name=\"url\" value=\"https://jcenter.bintray.com/\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"Google\" />\n      <option name=\"name\" value=\"Google\" />\n      <option name=\"url\" value=\"https://dl.google.com/dl/android/maven2/\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"maven\" />\n      <option name=\"name\" value=\"maven\" />\n      <option name=\"url\" value=\"https://maven.google.com\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"MavenRepo\" />\n      <option name=\"name\" value=\"MavenRepo\" />\n      <option name=\"url\" value=\"https://repo.maven.apache.org/maven2/\" />\n    </remote-repository>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/jarRepositories.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ .idea/jarRepositories.xml	(date 1607606098000)
@@ -31,5 +31,10 @@
       <option name="name" value="MavenRepo" />
       <option name="url" value="https://repo.maven.apache.org/maven2/" />
     </remote-repository>
+    <remote-repository>
+      <option name="id" value="maven2" />
+      <option name="name" value="maven2" />
+      <option name="url" value="https://jitpack.io" />
+    </remote-repository>
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/res/drawable/small_circle_button.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/small_circle_button.xml	(date 1607697305000)
+++ app/src/main/res/drawable/small_circle_button.xml	(date 1607697305000)
@@ -0,0 +1,6 @@
+<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval">
+    <solid android:color="@color/Alabaster" />
+    <size android:height="20dp" android:width="20dp"/>
+
+
+</shape>
\ No newline at end of file
Index: app/src/main/java/com/example/shroomies/ViewPagerAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/shroomies/ViewPagerAdapter.java	(date 1607699557000)
+++ app/src/main/java/com/example/shroomies/ViewPagerAdapter.java	(date 1607699557000)
@@ -0,0 +1,67 @@
+package com.example.shroomies;
+
+import android.content.Context;
+import android.graphics.drawable.Drawable;
+import android.net.Uri;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.Toast;
+
+import androidx.annotation.NonNull;
+import androidx.viewpager.widget.PagerAdapter;
+
+import com.google.android.gms.maps.model.Circle;
+import com.squareup.picasso.Picasso;
+import com.squareup.picasso.Transformation;
+
+import java.util.List;
+
+import jp.wasabeef.picasso.transformations.RoundedCornersTransformation;
+
+public class ViewPagerAdapter extends PagerAdapter {
+    Context context;
+    private List<Uri> imageUris;
+    ViewPagerAdapter(Context context , List<Uri> imageUris){
+        this.context = context;
+        this.imageUris = imageUris;
+
+    }
+
+    @Override
+    public int getCount() {
+        return imageUris.size();
+    }
+
+    @Override
+    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {
+        return view==object;
+    }
+
+
+    @NonNull
+    @Override
+    public Object instantiateItem(@NonNull ViewGroup container, int position) {
+        ImageView imageView = new ImageView(context);
+        imageView.setPadding(5,5,5,5);
+//        Transformation transformation = new context.getDrawable(R.drawable.post_card_rectangle_round));
+
+        Picasso.get().load(imageUris.get(position))
+                .fit()
+                .centerCrop()
+                .transform(
+                        new RoundedCornersTransformation(50 ,0)
+                )
+                .into(imageView);
+        container.addView(imageView);
+
+        return imageView;
+    }
+
+
+    @Override
+    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {
+        container.removeView((View)object);
+    }
+
+}
Index: app/src/main/res/drawable/ic_icon_material_remove_circle_outline.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_icon_material_remove_circle_outline.xml	(date 1607696795000)
+++ app/src/main/res/drawable/ic_icon_material_remove_circle_outline.xml	(date 1607696795000)
@@ -0,0 +1,9 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="15dp"
+    android:height="15dp"
+    android:viewportWidth="1359.642"
+    android:viewportHeight="1359.642">
+  <path
+      android:pathData="M339.91,611.84L339.91,747.8h679.82L1019.73,611.84ZM679.82,0C304.56,0 0,304.56 0,679.82s304.56,679.82 679.82,679.82 679.82,-304.56 679.82,-679.82S1055.08,0 679.82,0ZM679.82,1223.68c-299.8,0 -543.86,-244.06 -543.86,-543.86S380.02,135.96 679.82,135.96s543.86,244.06 543.86,543.86S979.62,1223.68 679.82,1223.68Z"
+      android:fillColor="#fa7575"/>
+</vector>
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:4.1.1\"\n        classpath 'com.google.gms:google-services:4.3.4'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven {url \"https://maven.google.com\" }\n    }\n}\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- build.gradle	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ build.gradle	(date 1607606077000)
@@ -19,7 +19,9 @@
         jcenter()
         mavenCentral()
         maven {url "https://maven.google.com" }
+        maven { url 'https://jitpack.io' }
     }
+
 }
 
 
Index: app/src/main/res/drawable/button_circle_yello_small.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/button_circle_yello_small.xml	(date 1607711802000)
+++ app/src/main/res/drawable/button_circle_yello_small.xml	(date 1607711802000)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    android:shape = "rectangle">
+    <solid android:color="@color/LogoYellow"/>
+    <corners android:radius="30dp"/>
+</shape>
\ No newline at end of file
Index: app/src/main/res/drawable/ic_upload_icon_cloud.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector android:alpha=\"0.88\" android:height=\"53.599dp\"\n    android:viewportHeight=\"53.599\" android:viewportWidth=\"75.651\"\n    android:width=\"75.651dp\" xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <path android:fillColor=\"#7b7c7b\" android:pathData=\"M60.994,20.267C58.787,8.71 49.331,0 37.826,0c-9.141,0 -17.021,5.527 -20.961,13.567C7.408,14.572 0,23.114 0,33.499c0,11.054 8.511,20.1 18.913,20.1L59.891,53.599c8.668,0 15.761,-7.537 15.761,-16.75C75.651,27.972 69.19,20.769 60.994,20.267ZM42.869,30.15s1.211,11.944 0,12.73 -8.944,1.164 -10.087,0 0,-12.73 0,-12.73 -9.334,1.7 -10.717,0S35.16,13.39 37.826,13.4 55.082,28.756 53.586,30.15 42.869,30.15 42.869,30.15Z\"/>\n</vector>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_upload_icon_cloud.xml	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/src/main/res/drawable/ic_upload_icon_cloud.xml	(date 1607708077000)
@@ -1,5 +1,5 @@
-<vector android:alpha="0.88" android:height="53.599dp"
+<vector android:alpha="0.88" android:height="23dp"
     android:viewportHeight="53.599" android:viewportWidth="75.651"
-    android:width="75.651dp" xmlns:android="http://schemas.android.com/apk/res/android">
+    android:width="33dp" xmlns:android="http://schemas.android.com/apk/res/android">
     <path android:fillColor="#7b7c7b" android:pathData="M60.994,20.267C58.787,8.71 49.331,0 37.826,0c-9.141,0 -17.021,5.527 -20.961,13.567C7.408,14.572 0,23.114 0,33.499c0,11.054 8.511,20.1 18.913,20.1L59.891,53.599c8.668,0 15.761,-7.537 15.761,-16.75C75.651,27.972 69.19,20.769 60.994,20.267ZM42.869,30.15s1.211,11.944 0,12.73 -8.944,1.164 -10.087,0 0,-12.73 0,-12.73 -9.334,1.7 -10.717,0S35.16,13.39 37.826,13.4 55.082,28.756 53.586,30.15 42.869,30.15 42.869,30.15Z"/>
 </vector>
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 29\n\n    defaultConfig {\n        applicationId \"com.example.shroomies\"\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        Properties properties = new Properties()\n        if (rootProject.file(\"local.properties\").exists()) {\n            properties.load(rootProject.file(\"local.properties\").newDataInputStream())\n        }\n        manifestPlaceholders = [ mapsApiKey : properties.getProperty(\"MAPS_API_KEY\", \"\") ]\n\n    }\n\n\n        buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation 'com.google.firebase:firebase-database:19.5.1'\n    implementation 'androidx.wear:wear:1.0.0'\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    compileOnly 'com.google.android.wearable:wearable:2.6.0'\n    def nav_version = '2.3.1'\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.13.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation \"androidx.cardview:cardview:1.0.0\"\n    implementation \"androidx.recyclerview:recyclerview:1.1.0\"\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation \"androidx.navigation:navigation-fragment:2.3.1\"\n    implementation \"androidx.navigation:navigation-ui:$nav_version\"\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation \"androidx.cardview:cardview:1.0.0\"\n    implementation \"androidx.recyclerview:recyclerview:1.1.0\"\n    implementation 'com.cepheuen.elegant-number-button:lib:1.0.3'\n    implementation 'com.aurelhubert:ahbottomnavigation:2.3.4'\n    implementation 'androidx.biometric:biometric:1.0.1'\n    implementation  'com.google.firebase:firebase-auth:20.0.1'\n    implementation 'com.google.android.gms:play-services-auth:15.0.1'\n    implementation 'com.github.bumptech.glide:glide:4.3.1'\n    implementation 'com.google.maps.android:android-maps-utils:2.2.0'\n    implementation \"com.airbnb.android:lottie:3.5.0\"\n    implementation \"com.google.android.gms:play-services-location:17.1.0\"\n    implementation \"com.google.android.gms:play-services-location:15.0.1\"\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.3.1'\n\n\n}\napply plugin: 'com.google.gms.google-services'
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/build.gradle	(date 1607694238000)
@@ -60,6 +60,9 @@
     implementation "com.google.android.gms:play-services-location:17.1.0"
     implementation "com.google.android.gms:play-services-location:15.0.1"
     annotationProcessor 'com.github.bumptech.glide:compiler:4.3.1'
+    implementation 'com.squareup.picasso:picasso:2.71828'
+    implementation 'jp.wasabeef:picasso-transformations:2.0.0'
+    implementation 'com.github.tizisdeepan:dots:1.0.1'
 
 
 }
Index: app/src/main/res/drawable/property_radio_selector.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/property_radio_selector.xml	(date 1607712891000)
+++ app/src/main/res/drawable/property_radio_selector.xml	(date 1607712891000)
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <item android:state_checked="true" android:drawable="@drawable/button_circle_timberwolf_small">
+
+    </item>
+    <item android:state_checked="false" android:drawable="@drawable/button_round"/>
+
+</selector>
\ No newline at end of file
Index: app/src/main/res/raw/lf30_editor_igyp9bvy.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/raw/lf30_editor_igyp9bvy.json	(date 1607706977000)
+++ app/src/main/res/raw/lf30_editor_igyp9bvy.json	(date 1607706977000)
@@ -0,0 +1,1 @@
+{"v":"5.5.7","meta":{"g":"LottieFiles AE 0.1.20","a":"","k":"","d":"","tc":""},"fr":30,"ip":0,"op":90,"w":1080,"h":1080,"nm":"upload","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":52,"s":[100]},{"t":53,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-169,6]],"o":[[0,0],[169,-6]],"v":[[-289,13],[-113,-141]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":1,"ml":16,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":43,"s":[0]},{"t":53,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":38,"s":[0]},{"t":48,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":66,"s":[100]},{"t":74,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[859,359,0],"ix":2},"a":{"a":0,"k":[333,-195,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":50,"s":[0,0,100]},{"t":74,"s":[83,83,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[74,74],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.9607843137254902,0.796078431372549,0.3607843137254902,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[0]},{"t":74,"s":[16]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[333,-195],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[100]},{"t":68,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[161,484.99999999999994,0],"ix":2},"a":{"a":0,"k":[333,-195,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":50,"s":[0,0,100]},{"t":68,"s":[83,83,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[74,74],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.9607843137254902,0.796078431372549,0.3607843137254902,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[0]},{"t":68,"s":[16]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[333,-195],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"mask","parent":8,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[415.647,107.425,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[107.5,107.5,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[788,526],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,13],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"arrow Outlines","tt":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[100]},{"t":74,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":22,"s":[527.314,926.3300000000002,0],"to":[0,-53.667,0],"ti":[0,53.667,0]},{"t":50,"s":[527.314,604.33,0]}],"ix":2},"a":{"a":0,"k":[77.454,111.252,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.702,5.298],[0,0],[0,0],[3.954,-4.455],[0,0],[0,0],[-8.069,0],[0,0],[0,0],[-15.752,0],[0,15.751],[0,0],[0,0]],"o":[[0,0],[0,0],[-3.954,-4.455],[0,0],[0,0],[-4.702,5.298],[0,0],[0,0],[0,15.751],[15.751,0],[0,0],[0,0],[8.069,0]],"v":[[72.503,-33.927],[41.874,-68.438],[8.055,-106.547],[-8.054,-106.547],[-41.874,-68.438],[-72.502,-33.927],[-64.449,-21.254],[-28.519,-21.254],[-28.519,82.482],[0.001,111.002],[28.52,82.482],[28.52,-21.254],[64.449,-21.254]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[77.454,111.252],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"cir 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[602.491,464.6739999999999,0],"to":[-4.667,13.333,0],"ti":[0,0,0]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":22,"s":[574.491,544.674,0],"to":[0,0,0],"ti":[-4.667,13.333,0]},{"t":60,"s":[602.491,464.6739999999999,0]}],"ix":2},"a":{"a":0,"k":[206.25,201.583,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.01,0.01,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":22,"s":[80,80,100]},{"t":60,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-111.193],[113.771,0],[0,111.193],[-113.771,0]],"o":[[0,111.193],[-113.771,0],[0,-111.193],[113.771,0]],"v":[[206,0],[0,201.333],[-206,0],[0,-201.333]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.796078431372549,0.3607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[206.25,201.583],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"cir 2 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[422.49099999999993,564.674,0],"to":[4,6.667,0],"ti":[0,0,0]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":22,"s":[446.491,604.674,0],"to":[0,0,0],"ti":[4,6.667,0]},{"t":60,"s":[422.49099999999993,564.674,0]}],"ix":2},"a":{"a":0,"k":[206.25,201.583,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.01,0.01,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":22,"s":[70,70,100]},{"t":60,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-111.193],[113.771,0],[0,111.193],[-113.771,0]],"o":[[0,111.193],[-113.771,0],[0,-111.193],[113.771,0]],"v":[[206,0],[0,201.333],[-206,0],[0,-201.333]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.796078431372549,0.3607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[206.25,201.583],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Layer 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,615.327,0],"ix":2},"a":{"a":0,"k":[415.647,201.583,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.01,0.01,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.389,0.389,0.333],"y":[0,0,0]},"t":22,"s":[80,80,100]},{"t":60,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[113.771,0],[26.543,-81.2],[0,0],[38.003,0],[0,-82.474],[-82.667,-1.932],[0,0],[0,0],[0,0],[0,104.9]],"o":[[-91.887,0],[0,0],[-26.733,-22.439],[-84.386,0],[0,81.259],[0,0],[0,0],[0,0],[104.817,-9.417],[0,-111.193]],"v":[[209.397,-201.333],[13.143,-61.329],[-163.108,-61.329],[-262.603,-97.334],[-415.397,52],[-266.324,201.288],[-266.324,201.333],[228.491,201.333],[228.491,200.465],[415.397,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.796078431372549,0.3607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[415.647,201.583],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
Index: app/src/main/java/com/example/shroomies/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.shroomies;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.auth.UserInfo;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class MainActivity extends AppCompatActivity {\n    DrawerLayout drawerLayout;\n    ActionBarDrawerToggle barDrawerToggle;\n    Toolbar toolbar;\n    NavigationView navigationView;\n    static BottomNavigationView btm_view;\n    FragmentTransaction ft;\n    FragmentManager fm;\n    ImageView myShroomies;\n    TextView usernameDrawer;\n    FirebaseUser user;\n    FirebaseAuth mAuth;\n    FirebaseAuth.AuthStateListener authStateListener;\n    SessionManager sessionManager;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //Creating session in main activity\n        Bundle extras = getIntent().getExtras();\n        if(extras!=null){\n            String userID = extras.getString(\"ID\");\n            String userEmail=extras.getString(\"EMAIL\");\n            sessionManager=new SessionManager(getApplicationContext(),userID);\n            sessionManager.createSession(userID,userEmail);\n            Toast.makeText(this,userID+\" \"+userEmail,Toast.LENGTH_LONG).show();\n        }\n        btm_view = findViewById(R.id.bottomNavigationView);\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerLayout);\n        toolbar = (Toolbar) findViewById(R.id.toolbar);\n        usernameDrawer=findViewById(R.id.drawer_nav_profile_name);\n        setSupportActionBar(toolbar);\n        getFragment(new FindRoommate());\n        barDrawerToggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open, R.string.close);\n        drawerLayout.addDrawerListener(barDrawerToggle);\n        barDrawerToggle.setDrawerIndicatorEnabled(true);\n        barDrawerToggle.syncState();\n        navigationView = (NavigationView) findViewById(R.id.navigationView);\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                drawerLayout.closeDrawer(GravityCompat.START);\n                if(menuItem.getItemId()==R.id.setting_menu){\n                    getFragment(new PrivacySetting());\n                }if(menuItem.getItemId()==R.id.my_archive_menu){\n                    getFragment(new Archive());\n                }if(menuItem.getItemId()==R.id.my_favorite_menu){\n                    getFragment(new Favorite());\n\n                }if(menuItem.getItemId()==R.id.my_requests_menu){\n                    getFragment(new Request());\n                }if(menuItem.getItemId()==R.id.logout){\n                    sessionManager.logout();\n                    Intent intent= new Intent(getApplicationContext(),LoginActivity.class);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                    startActivity(intent);\n                }\n                return false;\n            }\n        });\n        btm_view.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener(){\n\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                if(menuItem.getItemId()==R.id.find_roomie_menu){\n                    getFragment(new FindRoommate());\n                }if(menuItem.getItemId()==R.id.publish_post_menu){\n                    getFragment(new PublishPost());\n                }if(menuItem.getItemId()==R.id.message_inbox_menu){\n                    getFragment(new MessageInbox());\n\n                }if(menuItem.getItemId()==R.id.user_profile_menu){\n                    getFragment(new UserProfile());\n                }\n                return true;\n            }\n        });\n        myShroomies=findViewById(R.id.logo_toolbar);\n        myShroomies.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getFragment(new MyShroomies());\n            }\n        });\n\n    }\n    private void getFragment (Fragment fragment) {\n        fm = getSupportFragmentManager();\n        ft = fm.beginTransaction();\n        ft.addToBackStack(null);\n        ft.replace(R.id.fragmentContainer, fragment);\n        ft.commit();\n    }\n\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/shroomies/MainActivity.java	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/src/main/java/com/example/shroomies/MainActivity.java	(date 1607453410000)
@@ -18,6 +18,7 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.google.android.gms.maps.model.LatLng;
 import com.google.android.material.bottomnavigation.BottomNavigationView;
 import com.google.android.material.navigation.NavigationView;
 import com.google.firebase.auth.FirebaseAuth;
@@ -30,6 +31,8 @@
 import com.google.firebase.database.ValueEventListener;
 
 public class MainActivity extends AppCompatActivity {
+    public static String updatedAdresses;
+    public static LatLng updatedLatLng;
     DrawerLayout drawerLayout;
     ActionBarDrawerToggle barDrawerToggle;
     Toolbar toolbar;
Index: app/src/main/java/com/example/shroomies/Home.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.shroomies;\n\nimport android.app.Application;\nimport android.app.ListActivity;\nimport android.content.Intent;\nimport android.content.SearchRecentSuggestionsProvider;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\nimport java.util.HashMap;\n\npublic class Home extends Application {\n    SessionManager sessionManager;\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        sessionManager= new SessionManager();\n        String currentUserID=sessionManager.checkUsersLoggedIn(Home.this);\n        if(currentUserID!=null){\n            sessionManager=new SessionManager(Home.this,currentUserID);\n            HashMap userDetails=sessionManager.getUserDetail();\n            if(sessionManager.verifiedEmail()){\n                Toast.makeText(Home.this,currentUserID,Toast.LENGTH_SHORT).show();\n                Intent intent= new Intent(getApplicationContext(),MainActivity.class);\n                intent.putExtra(\"ID\",currentUserID);\n                intent.putExtra(\"EMAIL\",userDetails.get(\"EMAIL\").toString());\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                startActivity(intent);\n            }\n        }\n    }\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/shroomies/Home.java	(revision e1d06b3fe4265d070b9ddc81530f1c54e21d5b0d)
+++ app/src/main/java/com/example/shroomies/Home.java	(date 1607453513000)
@@ -23,7 +23,7 @@
         if(currentUserID!=null){
             sessionManager=new SessionManager(Home.this,currentUserID);
             HashMap userDetails=sessionManager.getUserDetail();
-            if(sessionManager.verifiedEmail()){
+            if(sessionManager.checkUserEmailVerification(currentUserID)){
                 Toast.makeText(Home.this,currentUserID,Toast.LENGTH_SHORT).show();
                 Intent intent= new Intent(getApplicationContext(),MainActivity.class);
                 intent.putExtra("ID",currentUserID);
Index: app/src/main/res/drawable/button_circle_timberwolf_small.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/button_circle_timberwolf_small.xml	(date 1607712872000)
+++ app/src/main/res/drawable/button_circle_timberwolf_small.xml	(date 1607712872000)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    android:shape = "rectangle">
+    <solid android:color="@color/Timeberwolf"/>
+    <corners android:radius="30dp"/>
+</shape>
\ No newline at end of file
